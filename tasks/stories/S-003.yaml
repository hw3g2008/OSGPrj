# ============================================
# Story: 后台用户管理功能完善
# ============================================

id: S-003
title: "后台用户管理功能完善"
requirement: REQ-001-admin-permission
status: pending
priority: P1
estimated_hours: 3

# 用户故事
user_story: |
  作为超级管理员，
  我希望在创建/编辑后台用户时能够分配业务角色，
  以便控制用户的权限范围。

# 验收标准
acceptance_criteria:
  - AC-001: 创建后台用户时可以选择业务角色
  - AC-002: 编辑后台用户时可以修改业务角色
  - AC-003: 用户可以被分配多个角色（权限取并集）
  - AC-004: 禁用用户后，所有受保护接口返回 403
  - AC-005: 重置密码功能正常工作
  - AC-006: 用户角色变更后重新登录生效

# 涉及文件
files:
  - ruoyi-admin/src/main/java/com/ruoyi/system/controller/SysUserController.java
  - ruoyi-system/src/main/java/com/ruoyi/system/service/impl/SysUserServiceImpl.java
  - ruoyi-ui/src/views/system/user/index.vue

# 依赖
dependencies:
  - S-001  # 需要先创建角色

# 备注
notes: |
  - 复用若依现有的用户管理功能
  - 角色选择控件使用多选下拉框
  - 需要处理角色变更后的 Token 缓存刷新
