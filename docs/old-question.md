# 权限管理模块 -- 待决策项

> 本文档列出从 HTML 原型提取需求时发现的不一致或缺失项，需产品经理确认后方可进入开发。
>
> **使用方式**：在「决策结果」列填写 A/B/其他，在「备注」列补充说明，确认后通知开发更新需求文档。

---

## 决策总览

| # | 模块 | 问题 | 状态 |
|---|------|------|------|
| D-001 | 登录 | 首次登录是否强制改密 | ✅ 已确认 |
| D-002 | 用户管理 | 角色选择：单选还是多选 | ✅ 已确认 |
| D-003 | 角色管理 | 题库管理员是否拆分 | ✅ 已确认 |
| D-004 | 全局 | 角色标识命名风格 | ✅ 已确认 |
| D-005 | 权限矩阵 | 文员的完整权限范围 | ✅ 已确认 |
| D-006 | 角色管理 | 权限模块列表是否补全 | ✅ 已确认 |

---

## D-001：首次登录是否强制改密

**来源文档**：[01-login.md](admin/01-login.md) 第 5 节

**现状**：新增用户弹窗标注「用户首次登录后需修改密码」，但原型中没有对应的强制改密弹窗。

| 选项 | 说明 |
|------|------|
| A - 不做 | 仅文字提示，不强制。用户首次登录后自行到「个人设置」改密 |
| B - 强制改密 | 首次登录成功后弹出改密弹窗，必须改完才能进入系统 |

**决策结果**： B - 强制改密 | 首次登录成功后弹出改密弹窗，必须改完才能进入系统

**备注**：

---

## D-002：新增/编辑用户的角色选择方式

**来源文档**：[03-permission-admins.md](admin/03-permission-admins.md) 第 4.2 节

**现状**：原型中存在不一致 -- 新增用户弹窗用的是 Checkbox 多选（标注"可多选"），编辑用户弹窗用的是 Select 单选下拉框。

| 选项 | 说明 | 影响 |
|------|------|------|
| A - 统一单选 | 新增和编辑都用 Select 单选下拉框 | 简单直接，但一个人不能兼任多角色 |
| B - 统一多选 | 新增和编辑都用 Checkbox 多选 | 灵活，一人可兼多角色（如文员 + 报销审核员） |

> 注：无论前端选哪种，后端数据库设计都保留多角色能力（用户-角色多对多关系表），方便未来扩展。

**决策结果**： B - 统一多选 | 新增和编辑都用 Checkbox 多选 | 灵活，一人可兼多角色（如文员 + 报销审核员）
**备注**：

---

## D-003：题库管理员是否拆分

**来源文档**：[04-rbac-matrix.md](admin/04-rbac-matrix.md) 第 5 节

**现状**：原型中有两处不一致：
- 登录选择器：拆分为「在线测试题库管理员」和「真人面试题库管理员」两个角色
- 用户管理/角色管理：合并为一个「题库管理员」

| 选项 | 说明 | 影响 |
|------|------|------|
| A - 合并 | 只保留 1 个「题库管理员」，同时管理在线题库和面试题库 | 角色少，管理简单 |
| B - 拆分 | 拆为「在线题库管理员」+「面试题库管理员」 | 精细控制，但增加角色数量 |

**决策结果**：B - 拆分 | 拆为「在线题库管理员」+「面试题库管理员」 | 精细控制，但增加角色数量

**备注**：

---

## D-004：角色标识命名风格

**来源文档**：[04-rbac-matrix.md](admin/04-rbac-matrix.md) 第 5 节

**现状**：原型中用 kebab-case（如 `job-admin`），后端 Java/数据库通常用 snake_case（如 `job_admin`）。

| 选项 | 示例 | 说明 |
|------|------|------|
| A - kebab-case | `job-admin`, `file-admin` | 跟原型一致，前端友好 |
| B - snake_case | `job_admin`, `file_admin` | 后端/数据库标准，Java 变量映射方便 |

> 建议选 B，前端显示时做映射即可，数据层统一 snake_case 更规范。

**决策结果**：B - snake_case | `job_admin`, `file_admin` | 后端/数据库标准，Java 变量映射方便

**备注**：

---

## D-005：文员（clerk）的完整权限范围

**来源文档**：[04-rbac-matrix.md](admin/04-rbac-matrix.md) 第 4 节

**现状**：原型中文员角色只映射了「首页 + 学生列表 + 导师列表 + 合同管理」4 个页面，但文员作为日常操作最多的角色，业务上可能需要更多页面。

请逐项确认（打 Y 或 N）：

| 页面　　　　　　 | 是否授权给文员 |
| ------------------| ----------------|
| 导师排期管理　　 | Y　　　　　　　|
| 学员求职总览　　 | Y　　　　　　　|
| 模拟应聘管理　　 | Y　　　　　　　|
| 课程记录　　　　 | Y　　　　　　　|
| 人际关系沟通记录 | Y　　　　　　　|
| 邮件　　　　　　 | Y　　　　　　　|
| 消息管理　　　　 | Y　　　　　　　|
| 投诉建议　　　　 | Y　　　　　　　|

**备注**：

权限可由超级管理员手工配置

## D-006：权限模块 Checkbox 列表是否补全

**来源文档**：[02-permission-roles.md](admin/02-permission-roles.md) 第 6 节

**现状**：角色管理的权限配置弹窗中有 7 组 22 个可勾选模块，但侧边栏实际有 24 个页面。以下页面不在权限模块列表中：

| 缺失的页面　　　 | 所属分组 | 是否加入权限列表 |
| ------------------| ----------| ------------------|
| 学生自添岗位　　 | 求职中心 | __是____　　　　 |
| 学员求职总览　　 | 求职中心 | ___是___　　　　 |
| 模拟应聘管理　　 | 求职中心 | ___是___　　　　 |
| 人际关系沟通记录 | 教学中心 | ___是___　　　　 |
| 课程记录　　　　 | 教学中心 | __是____　　　　 |
| 课时结算　　　　 | 财务中心 | __是____　　　　 |
| 在线测试题库　　 | 资源中心 | __是____　　　　 |
| 真人面试题库　　 | 资源中心 | _是_____　　　　 |

> 注：当前权限列表中的「全部课程」「课程反馈」「结算中心」「题库管理」与上述缺失页面可能存在对应关系（例如「全部课程」可能包含「课程记录」），请确认是合并还是分开列出。

**决策结果**：__全部补入____（全部补入 / 按上表逐项确认 / 保持原型现状）

**备注**：

新增功能后自动补入

## 确认记录

| 确认人 | 日期 | 说明 |
| --------| ------| ------|
| 　　　 | 　　 | 　　 |
