---
name: ä¸€äººå…¬å¸ AI äº¤ä»˜æ¡†æ¶
overview: åŸºäº obra/superpowersã€Ralph Loopã€Catalystã€TÃ‚CHESã€LangGraph ç­‰ä¸šç•Œæœ€ä½³å®è·µï¼Œç‹¬ç«‹å®ç°ä¸€å¥— Skills + Agents ç»“åˆçš„å·¥ç¨‹åŒ–äº¤ä»˜æ¡†æ¶ã€‚æ”¯æŒè®°å¿†ç®¡ç†ã€ä¸Šä¸‹æ–‡å‹ç¼©ã€è‡ªä¸»å¾ªç¯ã€æ£€æŸ¥ç‚¹æ¢å¤ï¼Œåˆ†ç¦»é€šç”¨å±‚ä¸é¡¹ç›®å±‚ï¼Œæ”¯æŒå¤šç«¯å¹¶è¡Œå¼€å‘ã€‚
todos:
  - id: phase1-core-structure
    content: åˆ›å»º core/ é€šç”¨æ¡†æ¶ç›®å½•ç»“æ„
    status: in_progress
  - id: phase2-memory-skills
    content: "ç¼–å†™è®°å¿†ç®¡ç† Skills: memory-bank, context-compression, checkpoint-manager"
    status: pending
  - id: phase3-workflow-skills
    content: "ç¼–å†™å·¥ä½œæµ Skills: brainstorming, story-splitter, ticket-splitter, deliver-ticket"
    status: pending
  - id: phase4-quality-skills
    content: "ç¼–å†™è´¨é‡ Skills: verification, tdd, debugging, code-review"
    status: pending
  - id: phase5-automation-skills
    content: "ç¼–å†™è‡ªåŠ¨åŒ– Skills: ralph-loop, progress-tracker"
    status: pending
  - id: phase6-agent-templates
    content: "ç¼–å†™ Agent æ¨¡æ¿: architect, planner, developer, reviewer, qa, coordinator"
    status: pending
  - id: phase7-project-config
    content: åˆ›å»º project/ é¡¹ç›®é…ç½®ç»“æ„ + è‹¥ä¾é¡¹ç›®å®ä¾‹
    status: pending
  - id: phase8-commands
    content: ç¼–å†™ commands/*.md å¿«æ·å‘½ä»¤
    status: pending
  - id: phase9-e2e-test
    content: "ç«¯åˆ°ç«¯æµ‹è¯•: éœ€æ±‚ â†’ /brainstorm â†’ /split â†’ /next â†’ /verify"
    status: pending
---

# ä¸€äººå…¬å¸ AI äº¤ä»˜æ¡†æ¶

## å‚è€ƒæ¥æºæ±‡æ€»

| æ¥æº | Stars | å€Ÿé‰´å†…å®¹ |

|------|-------|----------|

| [obra/superpowers](https://github.com/obra/superpowers) | 40k+ | æ ¸å¿ƒå·¥ä½œæµã€å¾®ä»»åŠ¡æ‹†è§£ã€è¯æ®å…ˆäºæ–­è¨€ |

| [Ralph Loop](https://github.com/thecgaigroup/ralph-cc-loop) | - | è‡ªä¸»å¾ªç¯æ‰§è¡Œã€å®Œæˆæ‰¿è¯ºæœºåˆ¶ |

| [Catalyst](https://github.com/coalesce-labs/catalyst) | - | RPIV å·¥ä½œæµã€æŒä¹…åŒ–è®°å¿† |

| [TÃ‚CHES](https://github.com/glittercowboy/taches-cc-resources) | 1.2k | Meta-skillsã€39 skills + 11 agents æ¶æ„ |

| [Context Engineering Kit](https://github.com/NeoLabHQ/context-engineering-kit) | 302 | ä¸Šä¸‹æ–‡å·¥ç¨‹ä¼˜åŒ– |

| [LangGraph](https://github.com/langchain-ai/langgraph) | - | ç”Ÿäº§çº§ 6 è¦ç´ ã€çŠ¶æ€æœºè®¾è®¡ |

| [claude-memory-bank](https://github.com/russbeye/claude-memory-bank) | - | å·¥ä½œè¿½è¸ªã€è·¨ä¼šè¯æŒä¹…åŒ– |

| ACON/ReSum/CaT è®ºæ–‡ | - | ä¸Šä¸‹æ–‡å‹ç¼©æŠ€æœ¯ï¼ˆèŠ‚çœ 26-54% tokenï¼‰ |

---

## æ ¸å¿ƒè®¾è®¡åŸåˆ™

1. **Skills + Agents ç»“åˆ**ï¼šSkills å®šä¹‰"æ€ä¹ˆåš"ï¼ŒAgents å®šä¹‰"è°æ¥åš"
2. **é€šç”¨å±‚ + é¡¹ç›®å±‚åˆ†ç¦»**ï¼šé€šç”¨æ¡†æ¶å¯å¤ç”¨ï¼Œé¡¹ç›®é…ç½®å¯å®šåˆ¶
3. **RPIV å·¥ä½œæµ**ï¼šResearch â†’ Plan â†’ Implement â†’ Validate
4. **è®°å¿†ç®¡ç†**ï¼šå·¥ä½œè®°å¿† + é•¿æœŸè®°å¿† + ä¸Šä¸‹æ–‡å‹ç¼©
5. **æ£€æŸ¥ç‚¹æ¢å¤**ï¼šæ”¯æŒé•¿æ—¶ä»»åŠ¡çš„çŠ¶æ€ä¿å­˜å’Œæ¢å¤
6. **è‡ªä¸»å¾ªç¯**ï¼šRalph Loop æ¨¡å¼ï¼ŒæŒç»­æ‰§è¡Œç›´åˆ°å®Œæˆ
7. **å¤šç«¯å¹¶è¡Œ**ï¼šGit Worktree æ”¯æŒå¤š Agent å¹¶è¡Œå¼€å‘
8. **äººå·¥åˆ¶å®š + æœºå™¨æ‰§è¡Œ**ï¼šæ‹†è§£é˜¶æ®µäººå·¥å‚ä¸ï¼Œæ‰§è¡Œé˜¶æ®µå…¨è‡ªåŠ¨
9. **å¾®ä»»åŠ¡æ‹†è§£**ï¼šæ¯ä¸ª Ticket 2-5 åˆ†é’Ÿå¯å®Œæˆ
10. **è¯æ®å…ˆäºæ–­è¨€**ï¼šæ‰€æœ‰å®Œæˆå£°æ˜å¿…é¡»æœ‰å‘½ä»¤è¾“å‡ºè¯æ˜

---

## Skills vs Agents

| æ¦‚å¿µ | ç±»æ¯” | ä½œç”¨ | ä½ç½® |

|------|------|------|------|

| **Skill** | å²—ä½èŒè´£æ‰‹å†Œ | å®šä¹‰"æ€ä¹ˆåš"ï¼šè§„åˆ™ã€æ­¥éª¤ã€çº¦æŸ | `core/skills/` |

| **Agent** | å‘˜å·¥ | å®šä¹‰"è°æ¥åš"ï¼šè§’è‰²ã€å·¥å…·ã€åŠ è½½å“ªäº› Skills | `core/agents/` + `project/agents/` |

**å…³ç³»**ï¼šAgent é€šè¿‡ `skills:` å­—æ®µåŠ è½½å¯¹åº”çš„ Skillsï¼Œç„¶åæ‰§è¡Œä»»åŠ¡ã€‚

**Agent é…ç½®æ ¼å¼**ï¼ˆClaude Code å®˜æ–¹è§„èŒƒï¼‰ï¼š

```yaml
---
name: agent-name
description: ä»€ä¹ˆæ—¶å€™è°ƒç”¨è¿™ä¸ª agent
tools: Read, Grep, Write, Bash    # å¯ç”¨å·¥å…·
skills: skill1, skill2            # é¢„åŠ è½½çš„ skills
---
ç³»ç»Ÿæç¤ºè¯...
```

---

## RPIV å·¥ä½œæµï¼ˆCatalyst å¯å‘ï¼‰

```mermaid
flowchart LR
    subgraph Research [Research ç ”ç©¶]
        R1[ç†è§£éœ€æ±‚]
        R2[æ¢ç´¢æ–¹æ¡ˆ]
        R3[ç¡®è®¤çº¦æŸ]
    end
    
    subgraph Plan [Plan è§„åˆ’]
        P1[æ‹†è§£ Story]
        P2[æ‹†è§£ Ticket]
        P3[åˆ†é… Agent]
    end
    
    subgraph Implement [Implement å®ç°]
        I1[TDD å¼€å‘]
        I2[ä»£ç è¯„å®¡]
        I3[æ£€æŸ¥ç‚¹ä¿å­˜]
    end
    
    subgraph Validate [Validate éªŒè¯]
        V1[æµ‹è¯•éªŒæ”¶]
        V2[è¯æ®æ”¶é›†]
        V3[å®Œæˆç¡®è®¤]
    end
    
    Research --> Plan --> Implement --> Validate
    Validate -->|ä¸é€šè¿‡| Implement
```

**æ¯é˜¶æ®µå¯¹åº”çš„ Skills å’Œ Agents**ï¼š

| é˜¶æ®µ | Skills | Agent |

|------|--------|-------|

| Research | brainstorming | Architect |

| Plan | story-splitter, ticket-splitter | Planner |

| Implement | deliver-ticket, tdd, checkpoint-manager | Developer |

| Validate | verification, code-review | Reviewer, QA |

---

## Human-in-the-Loop å®¡æ‰¹ç‚¹

```mermaid
flowchart LR
    R[Research] -->|è‡ªåŠ¨| P[Plan]
    P -->|âš ï¸ Story å®¡æ‰¹| PS[Story ç¡®è®¤]
    PS -->|âš ï¸ Ticket å®¡æ‰¹| PT[Ticket ç¡®è®¤]
    PT -->|è‡ªåŠ¨| I[Implement]
    I -->|å¯é€‰å®¡æ‰¹| IV[å¢é‡éªŒæ”¶]
    IV -->|è‡ªåŠ¨| V[Validate]
    V -->|âš ï¸ æœ€ç»ˆå®¡æ‰¹| Done[å®Œæˆ]
```

### å®¡æ‰¹èŠ‚ç‚¹å®šä¹‰

| èŠ‚ç‚¹ | æ˜¯å¦å¿…é¡» | å®¡æ‰¹å†…å®¹ | å‘½ä»¤ |

|------|----------|----------|------|

| Story æ‹†è§£å | **å¿…é¡»** | ç¡®è®¤èŒƒå›´æ­£ç¡®ã€æ— é—æ¼ | `/approve stories` |

| Ticket æ‹†è§£å | **å¿…é¡»** | ç¡®è®¤ä»»åŠ¡åˆç†ã€ç²’åº¦åˆé€‚ | `/approve tickets` |

| æ¯ä¸ª Ticket å®Œæˆå | å¯é€‰ | å¿«é€ŸéªŒæ”¶å•ä¸ªä»»åŠ¡ | `/approve T-xxx` æˆ–è‡ªåŠ¨ |

| Story å…¨éƒ¨å®Œæˆå | **å¿…é¡»** | æ•´ä½“åŠŸèƒ½éªŒæ”¶ | `/approve S-xxx` |

### å®¡æ‰¹é…ç½®

```yaml
# project/config.yaml ä¸­çš„å®¡æ‰¹é…ç½®
approval:
  story_split: required      # required | optional | auto
  ticket_split: required
  ticket_done: auto          # å•ä¸ª Ticket å®Œæˆåè‡ªåŠ¨ç»§ç»­
  story_done: required       # Story å®Œæˆéœ€è¦äººå·¥ç¡®è®¤
  
  # è‡ªåŠ¨å®¡æ‰¹æ¡ä»¶ï¼ˆå½“ ticket_done: auto æ—¶ï¼‰
  auto_approve_if:
    - tests_pass: true
    - lint_pass: true
    - no_new_warnings: true
```

---

## é”™è¯¯å¤„ç†ä¸å›æ»šæœºåˆ¶

### é”™è¯¯åˆ†ç±»ä¸å¤„ç†ç­–ç•¥

```yaml
error_handling:
  # 1. Ticket æ‰§è¡Œå¤±è´¥
  ticket_failed:
    actions:
      - åœæ­¢å½“å‰ Ticket æ‰§è¡Œ
      - è®°å½•é”™è¯¯åˆ° workspace/logs/{ticket_id}.yaml
      - ä¿å­˜å½“å‰çŠ¶æ€åˆ° checkpoint
      - é€šçŸ¥äººå·¥ä»‹å…¥ï¼ˆä¸è‡ªåŠ¨å›æ»šï¼‰
    recovery:
      - /retry T-xxx        # é‡è¯•å½“å‰ Ticket
      - /skip T-xxx         # è·³è¿‡ï¼ˆæ ‡è®°ä¸º blockedï¼‰
      - /rollback T-xxx     # å›æ»šåˆ° Ticket å¼€å§‹å‰çš„ checkpoint

  # 2. æµ‹è¯•å¤±è´¥
  test_failed:
    max_retries: 3
    actions:
      - ç¬¬ 1-2 æ¬¡ï¼šè‡ªåŠ¨è§¦å‘ debugging skill åˆ†æåŸå› 
      - ç¬¬ 3 æ¬¡ï¼šä»å¤±è´¥åˆ™åœæ­¢ï¼Œäººå·¥ä»‹å…¥
    auto_fix:
      enabled: true
      scope: "only_test_file"  # åªå…è®¸ä¿®æ”¹æµ‹è¯•æ–‡ä»¶æˆ–å®ç°æ–‡ä»¶

  # 3. Lint å¤±è´¥
  lint_failed:
    auto_fix: true             # è‡ªåŠ¨è¿è¡Œ lint --fix
    max_retries: 2
    fallback: "human_review"

  # 4. ä¸Šä¸‹æ–‡è€—å°½
  context_exhausted:
    threshold: 85%             # è§¦å‘é˜ˆå€¼
    actions:
      - è‡ªåŠ¨è§¦å‘ context-compression skill
      - ä¿å­˜å½“å‰çŠ¶æ€åˆ° checkpoint
      - å‹ç¼©åç»§ç»­æ‰§è¡Œ
    if_compression_fails:
      - ä¿å­˜å®Œæ•´çŠ¶æ€
      - æç¤ºç”¨æˆ·å¼€å¯æ–°ä¼šè¯
      - æä¾› /restore å‘½ä»¤

  # 5. æ–‡ä»¶å†²çªï¼ˆä¿®æ”¹äº† allowed_paths ä¹‹å¤–çš„æ–‡ä»¶ï¼‰
  path_violation:
    actions:
      - ç«‹å³åœæ­¢
      - å›æ»šè¯¥æ–‡ä»¶çš„ä¿®æ”¹
      - è®°å½•è¿è§„åˆ°æ—¥å¿—
      - äººå·¥ç¡®è®¤æ˜¯å¦æ‰©å¤§ allowed_paths
```

### å›æ»šå‘½ä»¤

```bash
/rollback T-xxx              # å›æ»šå•ä¸ª Ticket
/rollback S-xxx              # å›æ»šæ•´ä¸ª Story
/rollback CP-{timestamp}     # å›æ»šåˆ°æŒ‡å®š checkpoint
/rollback --last             # å›æ»šåˆ°ä¸Šä¸€ä¸ª checkpoint
```

---

## Agent é—´ä¿¡æ¯ä¼ é€’

### ä¼ é€’æ–¹å¼

```mermaid
flowchart TD
    subgraph files [æ–‡ä»¶ä¼ é€’ - ä¸»è¦æ–¹å¼]
        YAML[YAML æ–‡ä»¶<br/>Ticket/Story/State]
        LOG[æ‰§è¡Œæ—¥å¿—<br/>workspace/logs/]
        CP[æ£€æŸ¥ç‚¹<br/>checkpoints/]
    end
    
    subgraph git [Git ä¼ é€’]
        DIFF[Git Diff<br/>ä»£ç å˜æ›´]
        COMMIT[Commit Message<br/>å˜æ›´è¯´æ˜]
    end
    
    subgraph mem [è®°å¿†ä¼ é€’]
        DEC[decisions.yaml<br/>é‡è¦å†³ç­–]
        SUM[summaries/<br/>å†å²æ‘˜è¦]
    end
```

### å…·ä½“ä¼ é€’è·¯å¾„

| ä¼ é€’è·¯å¾„ | ä¼ é€’å†…å®¹ | ä¼ é€’æ–¹å¼ |

|----------|----------|----------|

| Planner â†’ Developer | ä»»åŠ¡å®šä¹‰ | `osg-spec-docs/tasks/tickets/T-xxx.yaml` |

| Developer â†’ Reviewer | ä»£ç å˜æ›´ | `git diff` + `workspace/logs/T-xxx.yaml` |

| Reviewer â†’ Developer | è¯„å®¡æ„è§ | `artifacts/reviews/T-xxx.md` |

| Developer â†’ QA | å®ŒæˆæŠ¥å‘Š | `workspace/logs/T-xxx.yaml` |

| Any â†’ Any | é‡è¦å†³ç­– | `memory/decisions.yaml` |

| Any â†’ Future | å†å²ä¸Šä¸‹æ–‡ | `memory/summaries/{date}.md` |

### ä¿¡æ¯éš”ç¦»åŸåˆ™

```
âš ï¸ å…³é”®åŸåˆ™ï¼šAgent ä¹‹é—´ **ä¸ä¼ é€’å¯¹è¯å†å²**

åŸå› ï¼š
1. é¿å…ä¸Šä¸‹æ–‡æ±¡æŸ“
2. æ¯ä¸ª Agent ä¿æŒç‹¬ç«‹è§†è§’
3. èŠ‚çœ token

ä¼ é€’çš„æ˜¯ï¼š
âœ“ ç»“æ„åŒ–æ•°æ®ï¼ˆYAMLï¼‰
âœ“ æ‰§è¡Œç»“æœï¼ˆæ—¥å¿—ã€Git diffï¼‰
âœ“ å…³é”®å†³ç­–ï¼ˆdecisions.yamlï¼‰

ä¸ä¼ é€’çš„æ˜¯ï¼š
âœ— å¯¹è¯å†å²
âœ— ä¸­é—´æ€è€ƒè¿‡ç¨‹
âœ— æ¢ç´¢æ€§å°è¯•
```

---

## è®°å¿†ç®¡ç†æ¶æ„

### è®°å¿†å±‚æ¬¡

```mermaid
flowchart TB
    subgraph persistent [æŒä¹…åŒ–è®°å¿† - è·¨ä¼šè¯]
        LTM[Long-term Memory<br/>decisions.yaml<br/>é‡è¦å†³ç­–è®°å½•]
        SUM[Summaries<br/>summaries/*.md<br/>å†å²æ‘˜è¦]
    end
    
    subgraph working [å·¥ä½œè®°å¿† - å½“å‰ä¼šè¯]
        WM[Working Memory<br/>session.yaml<br/>å½“å‰ä»»åŠ¡çŠ¶æ€]
        CTX[Context Window<br/>200K tokens<br/>æ´»è·ƒä¸Šä¸‹æ–‡]
    end
    
    subgraph compression [ä¸Šä¸‹æ–‡å‹ç¼©]
        CC[Context Compression<br/>å‹ç¼©å†å²äº¤äº’<br/>èŠ‚çœ 26-54% token]
    end
    
    CTX -->|æ¥è¿‘é™åˆ¶| CC
    CC -->|æ‘˜è¦| SUM
    WM -->|é‡è¦å†³ç­–| LTM
    SUM -->|éœ€è¦æ—¶åŠ è½½| CTX
    LTM -->|éœ€è¦æ—¶åŠ è½½| CTX
```

### è®°å¿†æ–‡ä»¶ç»“æ„

```yaml
# memory/session.yaml - å½“å‰ä¼šè¯çŠ¶æ€
session_id: "2026-02-01-001"
started_at: "2026-02-01T10:00:00Z"
current_phase: "implement"  # research | plan | implement | validate
current_story: "S-001"
current_ticket: "T-003"
context_usage: 45%
last_checkpoint: "CP-20260201-100500"

# memory/decisions.yaml - é‡è¦å†³ç­–è®°å½•ï¼ˆè·¨ä¼šè¯æŒä¹…åŒ–ï¼‰
decisions:
  - id: D-001
    date: "2026-02-01"
    context: "ç”¨æˆ·ç®¡ç†æ¨¡å—æŠ€æœ¯é€‰å‹"
    decision: "ä½¿ç”¨ MyBatis-Plus æ›¿ä»£åŸç”Ÿ MyBatis"
    rationale: "å‡å°‘æ ·æ¿ä»£ç ï¼Œæå‡å¼€å‘æ•ˆç‡"
    impact: "S-001, S-002"
    
# memory/summaries/2026-02-01.md - å†å²æ‘˜è¦
## 2026-02-01 å·¥ä½œæ‘˜è¦
- å®Œæˆ Story S-001 çš„ Ticket T-001 åˆ° T-003
- ä¸»è¦æ”¹åŠ¨ï¼šç”¨æˆ·ç®¡ç† API + å‰ç«¯é¡µé¢
- é—ç•™é—®é¢˜ï¼šT-004 æƒé™æ ¡éªŒå¾…å¤„ç†
```

---

## Ticket æ ¼å¼è§„èŒƒ

### å®Œæ•´ Ticket ç»“æ„

```yaml
# osg-spec-docs/tasks/tickets/T-001.yaml
id: T-001
story_id: S-001
title: å®ç°ç”¨æˆ·åˆ—è¡¨åˆ†é¡µæŸ¥è¯¢ API
description: |
  å®ç° /system/user/list æ¥å£ï¼Œæ”¯æŒåˆ†é¡µã€æ¡ä»¶ç­›é€‰ã€‚
  å‚è€ƒç°æœ‰ SysDept çš„å®ç°æ¨¡å¼ã€‚

# æ‰§è¡Œé…ç½®
type: backend                    # backend | frontend | database | fullstack
agent: backend-java              # æŒ‡å®šæ‰§è¡Œçš„ Agent
priority: 1                      # æ‰§è¡Œé¡ºåº
estimated_minutes: 5             # é¢„ä¼°æ—¶é—´

# å…³é”®ï¼šæ˜ç¡®çš„æ–‡ä»¶è¾¹ç•Œï¼ˆå¼ºåˆ¶çº¦æŸï¼‰
allowed_paths:
  modify:                        # å¯ä¿®æ”¹çš„æ–‡ä»¶
    - "ruoyi-admin/src/main/java/**/controller/SysUserController.java"
    - "ruoyi-system/src/main/java/**/service/ISysUserService.java"
    - "ruoyi-system/src/main/java/**/service/impl/SysUserServiceImpl.java"
    - "ruoyi-system/src/main/java/**/mapper/SysUserMapper.java"
    - "ruoyi-system/src/resources/mapper/system/SysUserMapper.xml"
  create:                        # å¯æ–°å»ºçš„æ–‡ä»¶
    - "ruoyi-admin/src/test/java/**/SysUserControllerTest.java"
  read:                          # å¯è¯»å–å‚è€ƒçš„æ–‡ä»¶
    - "ruoyi-admin/src/main/java/**/controller/SysDeptController.java"
    - "ruoyi-system/src/main/java/**/service/impl/SysDeptServiceImpl.java"

# TDD ç»“æ„ï¼ˆæµ‹è¯•å…ˆè¡Œï¼‰
tdd:
  test_file: "ruoyi-admin/src/test/java/**/controller/SysUserControllerTest.java"
  test_cases:
    - name: "testListUsers_success"
      description: "æ­£å¸¸åˆ†é¡µæŸ¥è¯¢ï¼Œè¿”å›ç”¨æˆ·åˆ—è¡¨"
    - name: "testListUsers_withCondition"
      description: "å¸¦æ¡ä»¶ç­›é€‰æŸ¥è¯¢"
    - name: "testListUsers_emptyResult"
      description: "æ— åŒ¹é…æ•°æ®æ—¶è¿”å›ç©ºåˆ—è¡¨"

# éªŒæ”¶æ ‡å‡†ï¼ˆå¿…é¡»å¯éªŒè¯ï¼‰
acceptance:
  - type: command
    run: "mvn test -Dtest=SysUserControllerTest"
    expect: "BUILD SUCCESS"
  - type: command
    run: "mvn checkstyle:check"
    expect: "BUILD SUCCESS"
  - type: api_test               # å¯é€‰ï¼šAPI æµ‹è¯•
    method: GET
    url: "/system/user/list?pageNum=1&pageSize=10"
    expect_status: 200

# ä¾èµ–å…³ç³»
dependencies:
  tickets: []                    # ä¾èµ–çš„å‰ç½® Ticket
  files:                         # ä¾èµ–çš„å·²å­˜åœ¨æ–‡ä»¶
    - "ruoyi-common/src/main/java/**/BaseController.java"

# çŠ¶æ€è¿½è¸ª
status: pending                  # pending | in_progress | completed | failed | blocked
created_at: "2026-02-01T09:00:00Z"
started_at: null
completed_at: null
checkpoint_id: null              # å®Œæˆåçš„æ£€æŸ¥ç‚¹ ID
```

### Ticket çŠ¶æ€æµè½¬

```mermaid
stateDiagram-v2
    [*] --> pending: åˆ›å»º
    pending --> in_progress: /next æˆ– Agent é¢†å–
    in_progress --> completed: éªŒæ”¶é€šè¿‡
    in_progress --> failed: æ‰§è¡Œå¤±è´¥
    in_progress --> blocked: é‡åˆ°é˜»å¡
    failed --> in_progress: /retry
    blocked --> pending: è§£é™¤é˜»å¡
    completed --> [*]
```

---

## Story æ ¼å¼è§„èŒƒ

```yaml
# osg-spec-docs/tasks/stories/S-001.yaml
id: S-001
requirement_id: REQ-001
title: ç”¨æˆ·ç®¡ç†æ¨¡å—
description: |
  å®ç°ç³»ç»Ÿç”¨æˆ·çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š
  - ç”¨æˆ·åˆ—è¡¨åˆ†é¡µæŸ¥è¯¢
  - æ–°å¢ç”¨æˆ·
  - ç¼–è¾‘ç”¨æˆ·
  - åˆ é™¤ç”¨æˆ·
  - ç”¨æˆ·çŠ¶æ€åˆ‡æ¢

# INVEST æ£€æŸ¥
invest:
  independent: true              # ä¸ä¾èµ–å…¶ä»– Story
  negotiable: true               # ç»†èŠ‚å¯åå•†
  valuable: true                 # å¯¹ç”¨æˆ·æœ‰ä»·å€¼
  estimable: true                # å¯ä¼°ç®—å·¥ä½œé‡
  small: true                    # è¶³å¤Ÿå°ï¼ˆ5-10 ä¸ª Ticketï¼‰
  testable: true                 # æœ‰æ˜ç¡®éªŒæ”¶æ ‡å‡†

# æ¶‰åŠç«¯
endpoints:
  - backend
  - frontend
  - database

# å…³è” Tickets
tickets:
  - T-001  # ç”¨æˆ·åˆ—è¡¨ API
  - T-002  # æ–°å¢ç”¨æˆ· API
  - T-003  # ç¼–è¾‘ç”¨æˆ· API
  - T-004  # åˆ é™¤ç”¨æˆ· API
  - T-005  # ç”¨æˆ·åˆ—è¡¨å‰ç«¯é¡µé¢
  - T-006  # ç”¨æˆ·è¡¨å•å‰ç«¯ç»„ä»¶

# éªŒæ”¶æ ‡å‡†ï¼ˆStory çº§åˆ«ï¼‰
acceptance:
  - "ç”¨æˆ·åˆ—è¡¨æ­£å¸¸æ˜¾ç¤ºï¼Œæ”¯æŒåˆ†é¡µ"
  - "å¯ä»¥æ–°å¢ç”¨æˆ·ï¼Œå¿…å¡«é¡¹æ ¡éªŒæ­£å¸¸"
  - "å¯ä»¥ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯"
  - "å¯ä»¥åˆ é™¤ç”¨æˆ·ï¼ˆè½¯åˆ é™¤ï¼‰"
  - "æ‰€æœ‰ API æœ‰å•å…ƒæµ‹è¯•è¦†ç›–"

# çŠ¶æ€
status: in_progress              # pending | in_progress | completed | blocked
progress: "3/6"                  # å·²å®Œæˆ Ticket æ•°
created_at: "2026-02-01T09:00:00Z"
```

---

## æ—¥å¿—æ ¼å¼è§„èŒƒ

### Ticket æ‰§è¡Œæ—¥å¿—

```yaml
# workspace/logs/T-001.yaml
ticket_id: T-001
story_id: S-001
agent: backend-java
session_id: "2026-02-01-001"

# æ—¶é—´ä¿¡æ¯
started_at: "2026-02-01T10:00:00Z"
finished_at: "2026-02-01T10:04:32Z"
duration_seconds: 272

# æ‰§è¡Œç»“æœ
status: success                  # success | failed | blocked
exit_reason: "all_acceptance_passed"

# æ‰§è¡Œæ­¥éª¤è¯¦æƒ…
steps:
  - step: 1
    action: "read_ticket"
    status: success
    timestamp: "2026-02-01T10:00:00Z"
    details: "è¯»å– Ticket T-001 å®šä¹‰"

  - step: 2
    action: "read_reference"
    status: success
    timestamp: "2026-02-01T10:00:15Z"
    files_read:
      - "ruoyi-admin/src/main/java/**/controller/SysDeptController.java"
    details: "è¯»å–å‚è€ƒå®ç°"

  - step: 3
    action: "write_test"
    status: success
    timestamp: "2026-02-01T10:00:45Z"
    files_created:
      - "ruoyi-admin/src/test/java/**/SysUserControllerTest.java"
    details: "ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼štestListUsers_success, testListUsers_withCondition, testListUsers_emptyResult"

  - step: 4
    action: "run_test_red"
    status: success
    timestamp: "2026-02-01T10:01:00Z"
    command: "mvn test -Dtest=SysUserControllerTest"
    output: |
      Tests run: 3, Failures: 3, Errors: 0
      BUILD FAILURE
    details: "çº¢ç¯é˜¶æ®µï¼šæµ‹è¯•æŒ‰é¢„æœŸå¤±è´¥"

  - step: 5
    action: "implement"
    status: success
    timestamp: "2026-02-01T10:01:30Z"
    files_modified:
      - path: "ruoyi-admin/src/main/java/**/controller/SysUserController.java"
        changes: "+45 -2"
      - path: "ruoyi-system/src/main/java/**/service/ISysUserService.java"
        changes: "+12 -0"
      - path: "ruoyi-system/src/main/java/**/service/impl/SysUserServiceImpl.java"
        changes: "+38 -0"
    details: "å®ç°ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢åŠŸèƒ½"

  - step: 6
    action: "run_test_green"
    status: success
    timestamp: "2026-02-01T10:03:00Z"
    command: "mvn test -Dtest=SysUserControllerTest"
    output: |
      Tests run: 3, Failures: 0, Errors: 0
      BUILD SUCCESS
    details: "ç»¿ç¯é˜¶æ®µï¼šæ‰€æœ‰æµ‹è¯•é€šè¿‡"

  - step: 7
    action: "run_lint"
    status: success
    timestamp: "2026-02-01T10:03:30Z"
    command: "mvn checkstyle:check"
    output: "BUILD SUCCESS"
    details: "ä»£ç è§„èŒƒæ£€æŸ¥é€šè¿‡"

  - step: 8
    action: "create_checkpoint"
    status: success
    timestamp: "2026-02-01T10:04:00Z"
    checkpoint_id: "CP-20260201-100400"
    details: "åˆ›å»ºæ£€æŸ¥ç‚¹"

# éªŒæ”¶è¯æ®
evidence:
  - type: test_output
    command: "mvn test -Dtest=SysUserControllerTest"
    output: |
      [INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0
      [INFO] BUILD SUCCESS
    timestamp: "2026-02-01T10:03:00Z"

  - type: lint_output
    command: "mvn checkstyle:check"
    output: "[INFO] BUILD SUCCESS"
    timestamp: "2026-02-01T10:03:30Z"

# æ–‡ä»¶å˜æ›´æ±‡æ€»
files_changed:
  created:
    - "ruoyi-admin/src/test/java/**/SysUserControllerTest.java"
  modified:
    - "ruoyi-admin/src/main/java/**/controller/SysUserController.java"
    - "ruoyi-system/src/main/java/**/service/ISysUserService.java"
    - "ruoyi-system/src/main/java/**/service/impl/SysUserServiceImpl.java"
  deleted: []

# æ£€æŸ¥ç‚¹ä¿¡æ¯
checkpoint:
  id: "CP-20260201-100400"
  git_commit: "abc1234"
  can_rollback: true
```

### é”™è¯¯æ—¥å¿—ç¤ºä¾‹

```yaml
# workspace/logs/T-002.yaml (å¤±è´¥ç¤ºä¾‹)
ticket_id: T-002
status: failed
exit_reason: "test_failed_after_max_retries"

steps:
  # ... å‰é¢æ­¥éª¤çœç•¥ ...
  
  - step: 6
    action: "run_test_green"
    status: failed
    attempt: 1
    command: "mvn test -Dtest=SysUserControllerTest"
    output: |
      Tests run: 3, Failures: 1, Errors: 0
      testAddUser_success FAILED
      java.lang.NullPointerException at SysUserServiceImpl.java:42
    
  - step: 7
    action: "debug_analyze"
    status: success
    analysis: |
      æ ¹å› åˆ†æï¼š
      - SysUserServiceImpl.java:42 è¡Œ userMapper æœªæ³¨å…¥
      - åŸå› ï¼šç¼ºå°‘ @Autowired æ³¨è§£
      ä¿®å¤å»ºè®®ï¼š
      - æ·»åŠ  @Autowired åˆ° userMapper å­—æ®µ

  - step: 8
    action: "auto_fix"
    status: success
    files_modified:
      - "ruoyi-system/src/main/java/**/service/impl/SysUserServiceImpl.java"

  - step: 9
    action: "run_test_green"
    status: failed
    attempt: 2
    # ... ä»ç„¶å¤±è´¥ ...

  - step: 12
    action: "run_test_green"
    status: failed
    attempt: 3
    details: "è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œåœæ­¢æ‰§è¡Œ"

error:
  type: "test_failure"
  message: "æµ‹è¯•å¤±è´¥ï¼Œå·²é‡è¯• 3 æ¬¡"
  last_failure: |
    testAddUser_success FAILED
    Expected: 200
    Actual: 500
  suggested_action: "äººå·¥æ£€æŸ¥ SysUserServiceImpl çš„ä¾èµ–æ³¨å…¥é…ç½®"
```

---

## Skills Prompt æ¨¡æ¿

### deliver-ticket/SKILL.md å®Œæ•´æ¨¡æ¿

```yaml
---
name: deliver-ticket
description: æ‰§è¡Œ Ticketã€‚ä¸¥æ ¼æŒ‰ Ticket å®ç°ï¼Œéµå¾ª allowed_paths çº¦æŸã€‚
invoked_by: user, agent
---
```
```markdown
# Deliver Ticket Skill

## å¼ºåˆ¶é¦–æ­¥ï¼šç†è§£ç¡®è®¤

è¯»å– Ticket åï¼Œ**å¿…é¡»**å…ˆè¾“å‡ºç†è§£ç¡®è®¤ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

"""
## ğŸ“‹ ä»»åŠ¡ç†è§£

**Ticket**: {id} - {title}

**ç›®æ ‡**: 
{description çš„ä¸€å¥è¯æ€»ç»“}

**å…è®¸ä¿®æ”¹çš„æ–‡ä»¶**:
- {allowed_paths.modify åˆ—è¡¨}

**å¯ä»¥æ–°å»ºçš„æ–‡ä»¶**:
- {allowed_paths.create åˆ—è¡¨}

**éªŒæ”¶æ ‡å‡†**:
1. {acceptance[0]}
2. {acceptance[1]}
...

**å‚è€ƒæ–‡ä»¶**:
- {allowed_paths.read åˆ—è¡¨}

âœ… ç†è§£ç¡®è®¤ï¼Œå¼€å§‹æ‰§è¡Œã€‚
"""

## æ‰§è¡Œæµç¨‹

### Phase 1: TDD çº¢ç¯
1. æ ¹æ® `tdd.test_cases` ç¼–å†™æµ‹è¯•
2. è¿è¡Œæµ‹è¯•ï¼Œç¡®è®¤å¤±è´¥ï¼ˆçº¢ç¯ï¼‰
3. è¾“å‡ºï¼š
"""
### ğŸ”´ çº¢ç¯é˜¶æ®µ
æµ‹è¯•æ–‡ä»¶: {test_file}
æµ‹è¯•ç”¨ä¾‹: {test_cases}
è¿è¡Œç»“æœ:
```

{æµ‹è¯•è¾“å‡ºï¼Œæ˜¾ç¤ºå¤±è´¥}

```
"""

### Phase 2: å®ç°ä»£ç 
1. é˜…è¯»å‚è€ƒæ–‡ä»¶ï¼ˆallowed_paths.readï¼‰
2. å®ç°åŠŸèƒ½ä»£ç 
3. **ä¸¥æ ¼é™åˆ¶**åœ¨ allowed_paths.modify èŒƒå›´å†…

### Phase 3: TDD ç»¿ç¯
1. è¿è¡Œæµ‹è¯•ï¼Œç¡®è®¤é€šè¿‡
2. è¾“å‡ºï¼š
"""
### ğŸŸ¢ ç»¿ç¯é˜¶æ®µ
è¿è¡Œç»“æœ:
```

{æµ‹è¯•è¾“å‡ºï¼Œæ˜¾ç¤ºæˆåŠŸ}

```
"""

### Phase 4: ä»£ç æ£€æŸ¥
1. è¿è¡Œ lint å‘½ä»¤
2. å¦‚æœ‰é—®é¢˜ï¼Œè‡ªåŠ¨ä¿®å¤
3. è¾“å‡ºï¼š
"""
### âœ… ä»£ç æ£€æŸ¥
```

{lint è¾“å‡º}

```
"""

## å®ŒæˆæŠ¥å‘Šæ ¼å¼

"""
## âœ… Ticket {id} å®ŒæˆæŠ¥å‘Š

### ä¿®æ”¹æ–‡ä»¶
| æ–‡ä»¶ | å˜æ›´ | è¯´æ˜ |
|------|------|------|
| {file1} | +{added} -{removed} | {å˜æ›´è¯´æ˜} |
| {file2} | +{added} -{removed} | {å˜æ›´è¯´æ˜} |

### éªŒè¯è¯æ®

**æµ‹è¯•ç»“æœ**:
```

{mvn test è¾“å‡º}

```

**Lint ç»“æœ**:
```

{lint è¾“å‡º}

```

### æ£€æŸ¥ç‚¹
å·²ä¿å­˜: **{checkpoint_id}**

### ä¸‹ä¸€æ­¥
- ä¸‹ä¸€ä¸ª Ticket: {next_ticket_id}
- æˆ–è¿è¡Œ `/next` ç»§ç»­
"""

## ç¡¬æ€§çº¦æŸï¼ˆè¿ååˆ™ç«‹å³åœæ­¢ï¼‰

1. **ç¦æ­¢ä¿®æ”¹ allowed_paths ä¹‹å¤–çš„æ–‡ä»¶**
   - è¿åæ—¶ï¼šç«‹å³åœæ­¢ï¼Œè¾“å‡ºè¿è§„æŠ¥å‘Š

2. **ç¦æ­¢è·³è¿‡æµ‹è¯•**
   - å¿…é¡»å…ˆå†™æµ‹è¯•ï¼Œæµ‹è¯•å¿…é¡»å…ˆå¤±è´¥

3. **ç¦æ­¢è·³è¿‡éªŒè¯å‘½ä»¤**
   - æ‰€æœ‰ acceptance æ£€æŸ¥å¿…é¡»æ‰§è¡Œ

4. **é‡åˆ°é˜»å¡ç«‹å³åœæ­¢**
   - ä¸çŒœæµ‹ã€ä¸å‡è®¾
   - è¾“å‡ºé˜»å¡åŸå› ï¼Œç­‰å¾…äººå·¥ä»‹å…¥

5. **å®Œæˆåå¿…é¡»åˆ›å»ºæ£€æŸ¥ç‚¹**
```

### story-splitter/SKILL.md å®Œæ•´æ¨¡æ¿

```yaml
---
name: story-splitter
description: Story æ‹†è§£ã€‚å°†éœ€æ±‚æ‹†è§£ä¸ºå¤šä¸ª User Storyï¼Œéµå¾ª INVEST åŸåˆ™ã€‚
invoked_by: user
---
```
```markdown
# Story Splitter Skill

## è¾“å…¥è¦æ±‚

éœ€è¦ä»¥ä¸‹ä¿¡æ¯ï¼š
1. éœ€æ±‚æ–‡æ¡£è·¯å¾„ï¼ˆdocs/requirements/REQ-xxx.mdï¼‰
2. æˆ–ç›´æ¥çš„éœ€æ±‚æè¿°

## æ‹†è§£æµç¨‹

### Step 1: éœ€æ±‚ç†è§£
"""
## ğŸ“– éœ€æ±‚ç†è§£

**éœ€æ±‚æ¥æº**: {REQ-xxx}
**æ ¸å¿ƒç›®æ ‡**: {ä¸€å¥è¯æè¿°}
**æ¶‰åŠæ¨¡å—**: {æ¨¡å—åˆ—è¡¨}
**æ¶‰åŠç«¯**: {backend/frontend/database}
"""

### Step 2: Story è¯†åˆ«

æŒ‰ä»¥ä¸‹ç»´åº¦æ‹†è§£ï¼š
- æŒ‰ç”¨æˆ·è§’è‰²æ‹†åˆ†
- æŒ‰åŠŸèƒ½æ¨¡å—æ‹†åˆ†
- æŒ‰æ•°æ®å®ä½“æ‹†åˆ†

### Step 3: INVEST æ£€éªŒ

æ¯ä¸ª Story å¿…é¡»æ»¡è¶³ï¼š

| åŸåˆ™ | æ£€æŸ¥é¡¹ | é€šè¿‡æ ‡å‡† |
|------|--------|----------|
| **I**ndependent | æ˜¯å¦ç‹¬ç«‹ | ä¸ä¾èµ–å…¶ä»– Story å®Œæˆ |
| **N**egotiable | æ˜¯å¦å¯åå•† | ç»†èŠ‚å¯è°ƒæ•´ |
| **V**aluable | æ˜¯å¦æœ‰ä»·å€¼ | å¯¹ç”¨æˆ·æœ‰æ˜ç¡®ä»·å€¼ |
| **E**stimable | æ˜¯å¦å¯ä¼°ç®— | èƒ½ä¼°ç®— Ticket æ•°é‡ |
| **S**mall | æ˜¯å¦å¤Ÿå° | 5-10 ä¸ª Ticket ä»¥å†… |
| **T**estable | æ˜¯å¦å¯æµ‹è¯• | æœ‰æ˜ç¡®éªŒæ”¶æ ‡å‡† |

### Step 4: è¾“å‡ºæ ¼å¼

"""
## ğŸ“ Story æ‹†è§£ç»“æœ

**éœ€æ±‚**: {REQ-xxx} - {éœ€æ±‚æ ‡é¢˜}

### Story åˆ—è¡¨

| ID | æ ‡é¢˜ | æ¶‰åŠç«¯ | é¢„ä¼° Tickets | ä¼˜å…ˆçº§ |
|----|------|--------|--------------|--------|
| S-001 | {æ ‡é¢˜} | backend, frontend | 6 | P0 |
| S-002 | {æ ‡é¢˜} | backend | 4 | P1 |

### Story è¯¦æƒ…

#### S-001: {æ ‡é¢˜}
- **æè¿°**: {ç”¨æˆ·æ•…äº‹æè¿°}
- **éªŒæ”¶æ ‡å‡†**:
  1. {æ ‡å‡†1}
  2. {æ ‡å‡†2}
- **INVEST æ£€æŸ¥**: âœ… å…¨éƒ¨é€šè¿‡

#### S-002: {æ ‡é¢˜}
...

### ä¾èµ–å…³ç³»
```

S-001 (ç‹¬ç«‹)

S-002 â†’ S-001 (ä¾èµ– S-001 çš„ç”¨æˆ·æ•°æ®)

```

### âš ï¸ éœ€è¦ç¡®è®¤
1. {éœ€è¦äººå·¥ç¡®è®¤çš„é—®é¢˜1}
2. {éœ€è¦äººå·¥ç¡®è®¤çš„é—®é¢˜2}

---
**ä¸‹ä¸€æ­¥**: è¯·ç¡®è®¤åè¿è¡Œ `/approve stories`ï¼Œç„¶å `/split ticket S-001`
"""

## è¾“å‡ºæ–‡ä»¶

ä¸ºæ¯ä¸ª Story åˆ›å»º YAML æ–‡ä»¶ï¼š
- `osg-spec-docs/tasks/stories/S-001.yaml`
- `osg-spec-docs/tasks/stories/S-002.yaml`
- ...

åŒæ—¶æ›´æ–° `osg-spec-docs/tasks/STATE.yaml`
```

---

## è§’è‰²ä½“ç³»

```mermaid
flowchart TD
    subgraph meta [å…ƒå±‚ - åè°ƒ]
        Coord[Coordinator<br/>åè°ƒå‘˜]
    end
    
    subgraph planning [è§„åˆ’å±‚]
        Arch[Architect<br/>æ¶æ„å¸ˆ]
        Plan[Planner<br/>è®¡åˆ’å‘˜]
    end
    
    subgraph development [å¼€å‘å±‚ - æŒ‰ç«¯ç»†åˆ†]
        BE[Backend Developer<br/>åç«¯å¼€å‘]
        FE[Frontend Developer<br/>å‰ç«¯å¼€å‘]
        DBA[DBA<br/>æ•°æ®åº“]
    end
    
    subgraph quality [è´¨é‡å±‚]
        Rev[Reviewer<br/>ä»£ç è¯„å®¡]
        QA[QA<br/>æµ‹è¯•éªŒæ”¶]
    end
    
    Coord --> Arch
    Coord --> Plan
    Arch --> Plan
    Plan --> BE
    Plan --> FE
    Plan --> DBA
    BE --> Rev
    FE --> Rev
    DBA --> Rev
    Rev --> QA
    QA -->|ä¸é€šè¿‡| BE
    QA -->|ä¸é€šè¿‡| FE
```

| å±‚çº§ | è§’è‰² | åŠ è½½çš„ Skills | è¯´æ˜ |

|------|------|---------------|------|

| **å…ƒå±‚** | Coordinator | progress-tracker, memory-bank | åè°ƒå¤š Agentã€è¿½è¸ªè¿›åº¦ |

| **è§„åˆ’å±‚** | Architect | brainstorming, context-compression | æ–¹æ¡ˆè®¾è®¡ã€æ¶æ„æ¢ç´¢ |

| | Planner | story-splitter, ticket-splitter | éœ€æ±‚æ‹†è§£ã€ä»»åŠ¡è§„åˆ’ |

| **å¼€å‘å±‚** | Backend Developer | deliver-ticket, tdd, checkpoint-manager | åç«¯ä»£ç å®ç° |

| | Frontend Developer | deliver-ticket, checkpoint-manager | å‰ç«¯ä»£ç å®ç° |

| | DBA | deliver-ticket | æ•°æ®åº“å˜æ›´ |

| **è´¨é‡å±‚** | Reviewer | code-review | ä»£ç è¯„å®¡ |

| | QA | verification | æµ‹è¯•éªŒæ”¶ |

---

## Skills åˆ†ç±»è®¾è®¡

### ç±»åˆ«ä¸€ï¼šè®°å¿†ç®¡ç† Skills

#### 1. memory-bank/SKILL.md

**æ¥æº**ï¼šclaude-memory-bankã€TÃ‚CHES

```yaml
---
name: memory-bank
description: è®°å¿†ç®¡ç†ã€‚ç®¡ç†å·¥ä½œè®°å¿†å’Œé•¿æœŸè®°å¿†çš„è¯»å†™ã€‚
---
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š

- ä¿å­˜é‡è¦å†³ç­–åˆ° `memory/decisions.yaml`
- è¯»å–å†å²æ‘˜è¦æ¢å¤ä¸Šä¸‹æ–‡
- è¿½è¸ªå½“å‰ä¼šè¯çŠ¶æ€

**è§¦å‘æ¡ä»¶**ï¼š

- åšå‡ºé‡è¦æŠ€æœ¯å†³ç­–æ—¶
- ä¼šè¯å¼€å§‹æ—¶ï¼ˆåŠ è½½å†å²ï¼‰
- ä¼šè¯ç»“æŸæ—¶ï¼ˆä¿å­˜æ‘˜è¦ï¼‰

---

#### 2. context-compression/SKILL.md

**æ¥æº**ï¼šACONã€ReSumã€CaT è®ºæ–‡

```yaml
---
name: context-compression
description: ä¸Šä¸‹æ–‡å‹ç¼©ã€‚å½“ä¸Šä¸‹æ–‡æ¥è¿‘é™åˆ¶æ—¶ï¼Œå‹ç¼©å†å²äº¤äº’ã€‚
---
```

**æ ¸å¿ƒæµç¨‹**ï¼š

1. ç›‘æ§ token ä½¿ç”¨ç‡
2. è¾¾åˆ°é˜ˆå€¼ï¼ˆ70%ï¼‰æ—¶è§¦å‘å‹ç¼©
3. æå–å…³é”®ä¿¡æ¯ï¼Œç”Ÿæˆæ‘˜è¦
4. æ¸…é™¤æ—§ä¸Šä¸‹æ–‡ï¼Œä¿ç•™æ‘˜è¦
5. ä¿å­˜æ‘˜è¦åˆ° `memory/summaries/`

**å‹ç¼©ç­–ç•¥**ï¼š

- ä¿ç•™ï¼šå½“å‰ä»»åŠ¡ã€æœªå®Œæˆ Ticketã€é‡è¦å†³ç­–
- å‹ç¼©ï¼šå·²å®Œæˆä»»åŠ¡è¯¦æƒ…ã€ä¸­é—´æ¢ç´¢è¿‡ç¨‹
- ä¸¢å¼ƒï¼šé‡å¤ä¿¡æ¯ã€å†—ä½™å¯¹è¯

---

#### 3. checkpoint-manager/SKILL.md

**æ¥æº**ï¼šLangGraph ç”Ÿäº§çº§ç‰¹æ€§ã€Claude å®˜æ–¹ checkpointing

```yaml
---
name: checkpoint-manager
description: æ£€æŸ¥ç‚¹ç®¡ç†ã€‚ä¿å­˜/æ¢å¤ä»»åŠ¡çŠ¶æ€ï¼Œæ”¯æŒé•¿æ—¶ä»»åŠ¡ã€‚
---
```

**æ£€æŸ¥ç‚¹æ—¶æœº**ï¼š

- æ¯ä¸ª Ticket å®Œæˆå
- é‡è¦å†³ç­–åšå‡ºå
- æ‰‹åŠ¨è§¦å‘ `/checkpoint`

**æ£€æŸ¥ç‚¹å†…å®¹**ï¼š

```yaml
# checkpoints/CP-20260201-100500.yaml
id: "CP-20260201-100500"
created_at: "2026-02-01T10:05:00Z"
phase: "implement"
story: "S-001"
ticket: "T-002"
status: "completed"
files_changed:
  - "ruoyi-admin/src/main/java/.../UserController.java"
  - "ruoyi-system/src/main/java/.../UserService.java"
git_commit: "abc1234"
context_summary: |
  å®Œæˆç”¨æˆ·åˆ—è¡¨ APIï¼Œä¸‹ä¸€æ­¥æ˜¯ T-003 ç”¨æˆ·è¯¦æƒ… API
```

**æ¢å¤å‘½ä»¤**ï¼š`/restore CP-20260201-100500`

---

### ç±»åˆ«äºŒï¼šè‡ªåŠ¨åŒ– Skills

#### 4. ralph-loop/SKILL.md

**æ¥æº**ï¼šRalph Loopï¼ˆ259 PRsã€40k+ è¡Œä»£ç /30å¤©ï¼‰

```yaml
---
name: ralph-loop
description: è‡ªä¸»å¾ªç¯æ‰§è¡Œã€‚æŒç»­å·¥ä½œç›´åˆ°å®Œæˆæ‰¿è¯ºè¾¾æˆæˆ–è¿­ä»£é™åˆ¶ã€‚
---
```

**æ ¸å¿ƒæœºåˆ¶**ï¼š

```mermaid
flowchart TD
    Start[å¼€å§‹ä»»åŠ¡] --> Execute[æ‰§è¡Œ]
    Execute --> Check{æ£€æŸ¥å®Œæˆæ‰¿è¯º}
    Check -->|æœªè¾¾æˆ| Iter{è¿­ä»£æ¬¡æ•° < é™åˆ¶?}
    Iter -->|æ˜¯| Execute
    Iter -->|å¦| Fail[è¾¾åˆ°é™åˆ¶ï¼Œäººå·¥ä»‹å…¥]
    Check -->|è¾¾æˆ| Success[ä»»åŠ¡å®Œæˆ]
```

**é…ç½®å‚æ•°**ï¼š

- `completion_promise`: å®Œæˆæ ‡å¿—ï¼ˆå¦‚ "ALL_TESTS_PASS"ï¼‰
- `max_iterations`: æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼ˆé»˜è®¤ 20ï¼‰
- `verification_command`: éªŒè¯å‘½ä»¤ï¼ˆå¦‚ `mvn test`ï¼‰

**ä½¿ç”¨ç¤ºä¾‹**ï¼š

```bash
/ralph-loop "å®Œæˆ S-001 æ‰€æœ‰ Ticket" \
  --completion-promise "STORY_S001_DONE" \
  --max-iterations 50 \
  --verify "mvn test && npm run lint"
```

**é“å¾‹**ï¼š

- å¿…é¡»ä½¿ç”¨**å¯éªŒè¯çš„äºŒå…ƒæ ‡å‡†**ï¼ˆæµ‹è¯•é€šè¿‡/lint é€šè¿‡ï¼‰
- ä¸ä½¿ç”¨ä¸»è§‚æ ‡å‡†ï¼ˆ"ä»£ç è´¨é‡å¥½"ï¼‰

---

#### 5. progress-tracker/SKILL.md

**æ¥æº**ï¼šTÃ‚CHES meta-skills

```yaml
---
name: progress-tracker
description: è¿›åº¦è¿½è¸ªã€‚è¿½è¸ªæ•´ä½“è¿›åº¦ï¼Œç”ŸæˆçŠ¶æ€æŠ¥å‘Šã€‚
---
```

**è¾“å‡ºæ ¼å¼**ï¼š

```
ğŸ“Š é¡¹ç›®è¿›åº¦æŠ¥å‘Š
================
Story S-001: ç”¨æˆ·ç®¡ç†æ¨¡å—
  â”œâ”€â”€ [âœ“] T-001 ç”¨æˆ·åˆ—è¡¨ API
  â”œâ”€â”€ [âœ“] T-002 ç”¨æˆ·æ–°å¢ API  
  â”œâ”€â”€ [â†’] T-003 ç”¨æˆ·ç¼–è¾‘ API (è¿›è¡Œä¸­)
  â”œâ”€â”€ [ ] T-004 ç”¨æˆ·åˆ é™¤ API
  â””â”€â”€ [ ] T-005 å‰ç«¯é¡µé¢

è¿›åº¦: 40% (2/5 Tickets)
é¢„ä¼°å‰©ä½™: 3 ä¸ª Ticket Ã— 5 åˆ†é’Ÿ â‰ˆ 15 åˆ†é’Ÿ
ä¸Šä¸‹æ–‡ä½¿ç”¨: 45%
æœ€è¿‘æ£€æŸ¥ç‚¹: CP-20260201-100500
```

---

### ç±»åˆ«ä¸‰ï¼šå·¥ä½œæµ Skills

#### 6. brainstorming/SKILL.md

**å‚è€ƒæ¥æº**ï¼šobra/superpowers brainstorming skill

```yaml
---
name: brainstorming
description: å¤´è„‘é£æš´ã€‚å½“ç”¨æˆ·è¯´ /brainstorm æˆ–éœ€è¦ç»†åŒ–éœ€æ±‚æ—¶æ¿€æ´»ã€‚
---
```

**æ ¸å¿ƒæµç¨‹**ï¼š

1. ç†è§£ä¸Šä¸‹æ–‡ï¼ˆè¯»å–éœ€æ±‚æ–‡æ¡£ï¼‰
2. ç»†åŒ–éœ€æ±‚ï¼ˆä¸€æ¬¡ä¸€ä¸ªé—®é¢˜ï¼Œä¼˜å…ˆé€‰æ‹©é¢˜ï¼‰
3. æ¢ç´¢æ–¹æ¡ˆï¼ˆæå‡º 2-3 ä¸ªæ–¹æ¡ˆåŠ trade-offsï¼‰
4. ç¡®è®¤åè®°å½•å†³ç­–åˆ° memory/decisions.yaml

---

#### 7. story-splitter/SKILL.md

```yaml
---
name: story-splitter
description: Story æ‹†è§£ã€‚å°†éœ€æ±‚æ‹†è§£ä¸ºå¤šä¸ª User Storyï¼Œéµå¾ª INVEST åŸåˆ™ã€‚
---
```

**ï¼ˆè¯¦ç»† Prompt æ¨¡æ¿è§ä¸Šæ–¹ "Skills Prompt æ¨¡æ¿" ç« èŠ‚ï¼‰**

---

#### 8. ticket-splitter/SKILL.md

```yaml
---
name: ticket-splitter
description: Ticket æ‹†è§£ã€‚å°† Story æ‹†è§£ä¸º 2-5 åˆ†é’Ÿçš„å¯æ‰§è¡Œ Ticketã€‚
---
```

**æ‹†è§£åŸåˆ™**ï¼ˆå€Ÿé‰´ superpowersï¼‰ï¼š

- æ¯ä¸ª Ticket 2-5 åˆ†é’Ÿå¯å®Œæˆ
- æ˜ç¡®çš„æ–‡ä»¶è·¯å¾„ï¼ˆä¸å«æ¨¡ç³Šæè¿°ï¼‰
- TDD ç»“æ„ï¼ˆæµ‹è¯•å…ˆè¡Œï¼‰
- æŒ‡å®šæ‰§è¡Œ Agentï¼ˆbackend/frontend/dbaï¼‰

---

#### 9. deliver-ticket/SKILL.md

```yaml
---
name: deliver-ticket
description: æ‰§è¡Œ Ticketã€‚ä¸¥æ ¼æŒ‰ Ticket å®ç°ï¼Œéµå¾ª allowed_paths çº¦æŸã€‚
---
```

**ï¼ˆè¯¦ç»† Prompt æ¨¡æ¿è§ä¸Šæ–¹ "Skills Prompt æ¨¡æ¿" ç« èŠ‚ï¼‰**

---

### ç±»åˆ«å››ï¼šè´¨é‡ Skills

#### 10. verification/SKILL.md

**å‚è€ƒæ¥æº**ï¼šobra/superpowers verification-before-completion

```yaml
---
name: verification
description: å®Œæˆå‰éªŒè¯ã€‚è¯æ®å…ˆäºæ–­è¨€ã€‚
---
```

**éªŒè¯æ¸…å•**ï¼š

- [ ] æµ‹è¯•é€šè¿‡ï¼ˆå‘½ä»¤è¾“å‡ºï¼‰
- [ ] Lint é€šè¿‡ï¼ˆå‘½ä»¤è¾“å‡ºï¼‰
- [ ] åŠŸèƒ½å¯ç”¨ï¼ˆå¦‚æœ‰ UIï¼Œæˆªå›¾è¯æ˜ï¼‰

---

#### 11. tdd/SKILL.md

**å‚è€ƒæ¥æº**ï¼šobra/superpowers test-driven-development

```yaml
---
name: tdd
description: TDD å¼€å‘ã€‚çº¢-ç»¿-é‡æ„å¾ªç¯ã€‚
---
```

**TDD æµç¨‹**ï¼š

1. **çº¢**ï¼šå…ˆå†™å¤±è´¥çš„æµ‹è¯•
2. **ç»¿**ï¼šå†™æœ€å°‘ä»£ç è®©æµ‹è¯•é€šè¿‡
3. **é‡æ„**ï¼šä¼˜åŒ–ä»£ç ï¼Œä¿æŒæµ‹è¯•é€šè¿‡

---

#### 12. code-review/SKILL.md

**å‚è€ƒæ¥æº**ï¼šobra/superpowers requesting/receiving-code-review

```yaml
---
name: code-review
description: ä»£ç è¯„å®¡ã€‚æŠ€æœ¯è¯„ä¼°ï¼Œéæƒ…æ„Ÿè¡¨æ¼”ã€‚
---
```

**è¯„å®¡ç»´åº¦**ï¼š

- åŠŸèƒ½æ­£ç¡®æ€§
- ä»£ç è§„èŒƒ
- æ€§èƒ½è€ƒé‡
- å®‰å…¨é—®é¢˜

---

#### 13. debugging/SKILL.md

**å‚è€ƒæ¥æº**ï¼šobra/superpowers systematic-debugging

```yaml
---
name: debugging
description: ç³»ç»ŸåŒ–è°ƒè¯•ã€‚å…ˆæ‰¾æ ¹å› å†ä¿®å¤ã€‚
---
```

**é“å¾‹**ï¼šæ²¡æœ‰æ ¹å› åˆ†æï¼Œä¸æå‡ºä¿®å¤æ–¹æ¡ˆ

---

## åˆ†å±‚æ¶æ„ï¼šé€šç”¨ vs é¡¹ç›®å®šåˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Core Layerï¼ˆæ ¸å¿ƒå±‚ - ä¸å˜ï¼Œå¯å¤ç”¨åˆ°ä»»ä½•é¡¹ç›®ï¼‰            â”‚
â”‚  â”œâ”€â”€ å·¥ä½œæµç¨‹ï¼ˆRPIV: Research â†’ Plan â†’ Implement â†’ Validateï¼‰â”‚
â”‚  â”œâ”€â”€ è§’è‰²æ¨¡æ¿ï¼ˆCoordinator, Architect, Planner, Developer...ï¼‰â”‚
â”‚  â”œâ”€â”€ æ ¸å¿ƒ Skillsï¼ˆ13 ä¸ªï¼Œåˆ† 4 ç±»ï¼‰                       â”‚
â”‚  â”œâ”€â”€ è®°å¿†ç®¡ç†æœºåˆ¶                                        â”‚
â”‚  â”œâ”€â”€ é”™è¯¯å¤„ç†æœºåˆ¶                                        â”‚
â”‚  â””â”€â”€ çŠ¶æ€ç®¡ç†ã€æ£€æŸ¥ç‚¹æœºåˆ¶                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ ç»§æ‰¿/é…ç½®
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Project Layerï¼ˆé¡¹ç›®å±‚ - å¯å˜ï¼Œé¡¹ç›®ç‰¹å®šï¼‰                 â”‚
â”‚  â”œâ”€â”€ æŠ€æœ¯æ ˆé…ç½®ï¼ˆJava/Python/Go/Vue/React...ï¼‰          â”‚
â”‚  â”œâ”€â”€ å¼€å‘è€…è§’è‰²å®ä¾‹ï¼ˆbackend-java, frontend-vue...ï¼‰    â”‚
â”‚  â”œâ”€â”€ ä»£ç è§„èŒƒï¼ˆrules/ï¼‰- å¯å¼•ç”¨å¤–éƒ¨è§„èŒƒ                  â”‚
â”‚  â””â”€â”€ å‘½ä»¤æ˜ å°„ï¼ˆtest â†’ mvn test / pytest...ï¼‰           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç›®å½•ç»“æ„

```
.claude/
â”œâ”€â”€ core/                        # ã€ä¸å˜ã€‘æ ¸å¿ƒæ¡†æ¶ï¼ˆå¯å¤åˆ¶åˆ°ä»»ä½•é¡¹ç›®ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ skills/                  # æ ¸å¿ƒæŠ€èƒ½ï¼ˆ13 ä¸ªï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ # è®°å¿†ç®¡ç†ç±»
â”‚   â”‚   â”œâ”€â”€ memory-bank/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”œâ”€â”€ context-compression/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”œâ”€â”€ checkpoint-manager/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ # è‡ªåŠ¨åŒ–ç±»
â”‚   â”‚   â”œâ”€â”€ ralph-loop/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”œâ”€â”€ progress-tracker/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ # å·¥ä½œæµç±»
â”‚   â”‚   â”œâ”€â”€ brainstorming/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”œâ”€â”€ story-splitter/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”œâ”€â”€ ticket-splitter/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”œâ”€â”€ deliver-ticket/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ # è´¨é‡ç±»
â”‚   â”‚   â”œâ”€â”€ verification/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”œâ”€â”€ tdd/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â”œâ”€â”€ code-review/
â”‚   â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â”‚   â””â”€â”€ debugging/
â”‚   â”‚       â””â”€â”€ SKILL.md
â”‚   â”‚
â”‚   â”œâ”€â”€ agents/                  # è§’è‰²æ¨¡æ¿ï¼ˆ7 ä¸ªï¼‰
â”‚   â”‚   â”œâ”€â”€ coordinator.md       # åè°ƒå‘˜
â”‚   â”‚   â”œâ”€â”€ architect.md         # æ¶æ„å¸ˆ
â”‚   â”‚   â”œâ”€â”€ planner.md           # è®¡åˆ’å‘˜
â”‚   â”‚   â”œâ”€â”€ developer.md         # å¼€å‘è€…é€šç”¨æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ reviewer.md          # è¯„å®¡å‘˜
â”‚   â”‚   â””â”€â”€ qa.md                # QA
â”‚   â”‚
â”‚   â””â”€â”€ templates/               # æ–‡ä»¶æ¨¡æ¿
â”‚       â”œâ”€â”€ story.yaml
â”‚       â”œâ”€â”€ ticket.yaml
â”‚       â”œâ”€â”€ checkpoint.yaml
â”‚       â”œâ”€â”€ log.yaml
â”‚       â””â”€â”€ state.yaml
â”‚
â”œâ”€â”€ project/                     # ã€å¯å˜ã€‘é¡¹ç›®é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ config.yaml              # é¡¹ç›®é…ç½®ï¼ˆæŠ€æœ¯æ ˆã€å‘½ä»¤æ˜ å°„ã€å®¡æ‰¹é…ç½®ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ agents/                  # é¡¹ç›®è§’è‰²å®ä¾‹ï¼ˆç»§æ‰¿é€šç”¨æ¨¡æ¿ï¼‰
â”‚   â”‚   â”œâ”€â”€ backend-java.md      # Java åç«¯å¼€å‘è€…
â”‚   â”‚   â”œâ”€â”€ frontend-vue.md      # Vue å‰ç«¯å¼€å‘è€…
â”‚   â”‚   â””â”€â”€ dba-mysql.md         # MySQL DBA
â”‚   â”‚
â”‚   â””â”€â”€ rules/                   # é¡¹ç›®ä»£ç è§„èŒƒï¼ˆå¼•ç”¨å¤–éƒ¨è§„èŒƒï¼‰
â”‚       â”œâ”€â”€ java.md              # å¼•ç”¨é˜¿é‡Œ Java è§„èŒƒ
â”‚       â”œâ”€â”€ vue.md
â”‚       â””â”€â”€ sql.md
â”‚
â”œâ”€â”€ memory/                      # æŒä¹…åŒ–è®°å¿†
â”‚   â”œâ”€â”€ session.yaml             # å½“å‰ä¼šè¯çŠ¶æ€
â”‚   â”œâ”€â”€ decisions.yaml           # é‡è¦å†³ç­–è®°å½•
â”‚   â””â”€â”€ summaries/               # å†å²æ‘˜è¦
â”‚       â””â”€â”€ {date}.md
â”‚
â”œâ”€â”€ checkpoints/                 # æ£€æŸ¥ç‚¹
â”‚   â””â”€â”€ CP-{timestamp}.yaml
â”‚
â”œâ”€â”€ CLAUDE.md                    # é¡¹ç›®å…¥å£ï¼ˆå¼•ç”¨ core + projectï¼‰
â”‚
â””â”€â”€ commands/                    # å¿«æ·å‘½ä»¤
    â”œâ”€â”€ brainstorm.md
    â”œâ”€â”€ split.md
    â”œâ”€â”€ next.md
    â”œâ”€â”€ status.md
    â”œâ”€â”€ approve.md               # å®¡æ‰¹å‘½ä»¤
    â”œâ”€â”€ checkpoint.md
    â”œâ”€â”€ restore.md
    â”œâ”€â”€ rollback.md              # å›æ»šå‘½ä»¤
    â””â”€â”€ ralph-loop.md

docs/
â””â”€â”€ requirements/                # éœ€æ±‚æ–‡æ¡£ï¼ˆç”¨æˆ·æ”¾ç½®ï¼‰
    â””â”€â”€ REQ-001.md

osg-spec-docs/tasks/
â”œâ”€â”€ STATE.yaml                   # å…¨å±€çŠ¶æ€æ–‡ä»¶
â”œâ”€â”€ stories/
â”‚   â””â”€â”€ S-001.yaml
â””â”€â”€ tickets/
    â””â”€â”€ T-001.yaml

workspace/
â””â”€â”€ logs/                        # æ‰§è¡Œæ—¥å¿—
    â””â”€â”€ T-001.yaml

artifacts/
â”œâ”€â”€ reports/
â””â”€â”€ reviews/                     # ä»£ç è¯„å®¡è®°å½•
    â””â”€â”€ T-001.md
```

---

## é¡¹ç›®é…ç½®æ–‡ä»¶

### project/config.yaml

```yaml
# é¡¹ç›®åŸºæœ¬ä¿¡æ¯
name: ruoyi-vue
type: fullstack  # backend | frontend | fullstack | mobile

# æŠ€æœ¯æ ˆ
tech_stack:
  backend:
    language: java
    framework: spring-boot
    version: "2.5"
  frontend:
    language: javascript
    framework: vue
    version: "2.6"
  database:
    type: mysql
    version: "8.0"

# å‘½ä»¤æ˜ å°„ï¼ˆé€»è¾‘å‘½ä»¤ â†’ å®é™…å‘½ä»¤ï¼‰
commands:
  test: "mvn -q test"
  test-single: "mvn -q test -Dtest={class}"
  build: "mvn -q -DskipTests package"
  lint: "mvn checkstyle:check"
  lint-fix: "mvn checkstyle:check"  # Java æ— è‡ªåŠ¨ä¿®å¤
  run: "mvn -pl ruoyi-admin -am spring-boot:run"

# ç›®å½•çº¦å®š
paths:
  backend:
    controllers: "ruoyi-admin/src/main/java/**/controller/"
    services: "ruoyi-system/src/main/java/**/service/"
    mappers: "ruoyi-system/src/main/java/**/mapper/"
    tests: "ruoyi-*/src/test/java/"
  frontend:
    pages: "ruoyi-ui/src/views/"
    api: "ruoyi-ui/src/api/"
    components: "ruoyi-ui/src/components/"

# å¯ç”¨çš„å¼€å‘è€…è§’è‰²
developers:
  - backend-java
  - frontend-vue
  - dba-mysql

# å®¡æ‰¹é…ç½®
approval:
  story_split: required      # required | optional | auto
  ticket_split: required
  ticket_done: auto          # å•ä¸ª Ticket å®Œæˆåè‡ªåŠ¨ç»§ç»­
  story_done: required       # Story å®Œæˆéœ€è¦äººå·¥ç¡®è®¤
  
  # è‡ªåŠ¨å®¡æ‰¹æ¡ä»¶ï¼ˆå½“ ticket_done: auto æ—¶ï¼‰
  auto_approve_if:
    tests_pass: true
    lint_pass: true

# è®°å¿†é…ç½®
memory:
  compression_threshold: 70%  # ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡è¾¾åˆ°æ­¤å€¼æ—¶è§¦å‘å‹ç¼©
  checkpoint_interval: "per_ticket"  # per_ticket | per_story | manual
  
# é”™è¯¯å¤„ç†é…ç½®
error_handling:
  test_max_retries: 3
  lint_auto_fix: true
  on_path_violation: "stop_and_report"  # stop_and_report | auto_rollback
  
# Ralph Loop é…ç½®
ralph_loop:
  default_max_iterations: 20
  verification_command: "mvn test"

# ä»£ç è§„èŒƒå¼•ç”¨
rules_reference:
  java: "https://github.com/alibaba/p3c"  # é˜¿é‡Œ Java è§„èŒƒ
  vue: "https://vuejs.org/style-guide/"
  sql: "internal"
```

---

## Agent æ¨¡æ¿è®¾è®¡

### core/agents/coordinator.md

```yaml
---
name: coordinator
description: åè°ƒå‘˜ã€‚ç®¡ç†å¤š Agent åä½œï¼Œè¿½è¸ªæ•´ä½“è¿›åº¦ã€‚
tools: Read, Write
skills: progress-tracker, memory-bank
---
# Coordinatorï¼ˆåè°ƒå‘˜ï¼‰

## èŒè´£
- åè°ƒå¤š Agent å·¥ä½œ
- è¿½è¸ªæ•´ä½“è¿›åº¦
- ç®¡ç†è®°å¿†å’Œä¸Šä¸‹æ–‡
- å†³å®šä½•æ—¶è§¦å‘ä¸Šä¸‹æ–‡å‹ç¼©
- åˆ†æ´¾ä»»åŠ¡ç»™å¯¹åº”çš„ Developer Agent

## è§¦å‘æ—¶æœº
- é¡¹ç›®å¯åŠ¨æ—¶
- æ¯ä¸ª Story å¼€å§‹/ç»“æŸæ—¶
- ä¸Šä¸‹æ–‡æ¥è¿‘é™åˆ¶æ—¶
- ç”¨æˆ·æ‰§è¡Œ /status æ—¶
```

### core/agents/developer.md

```yaml
---
name: developer
description: é€šç”¨å¼€å‘è€…æ¨¡æ¿ï¼Œéœ€è¦è¢«å…·ä½“æŠ€æœ¯æ ˆç»§æ‰¿
skills: deliver-ticket, tdd, checkpoint-manager
---
# Developerï¼ˆå¼€å‘è€…ï¼‰

## èŒè´£
- æŒ‰ Ticket å®ç°ä»£ç 
- éµå¾ª TDD æµç¨‹
- åœ¨ allowed_paths å†…ä¿®æ”¹
- å®Œæˆååˆ›å»ºæ£€æŸ¥ç‚¹

## é€šç”¨æµç¨‹
1. è¯»å– Ticketï¼Œè¾“å‡ºç†è§£ç¡®è®¤
2. TDDï¼šçº¢ â†’ ç»¿ â†’ é‡æ„
3. è¿è¡ŒéªŒè¯å‘½ä»¤
4. åˆ›å»ºæ£€æŸ¥ç‚¹
5. äº§å‡ºå®ŒæˆæŠ¥å‘Š

## é”™è¯¯å¤„ç†
- æµ‹è¯•å¤±è´¥ï¼šæœ€å¤šé‡è¯• 3 æ¬¡ï¼Œè§¦å‘ debugging skill
- è·¯å¾„è¿è§„ï¼šç«‹å³åœæ­¢ï¼ŒæŠ¥å‘Šè¿è§„
- é˜»å¡ï¼šåœæ­¢å¹¶è¾“å‡ºé˜»å¡åŸå› 

## ã€ç”±é¡¹ç›®é…ç½®è¦†ç›–ã€‘
- æŠ€æœ¯æ ˆè§„èŒƒ
- å…·ä½“å‘½ä»¤
- ç›®å½•çº¦å®š
```

### project/agents/backend-java.md

```yaml
---
name: backend-java
extends: developer                    # ç»§æ‰¿é€šç”¨æ¨¡æ¿
description: Java åç«¯å¼€å‘è€…ï¼Œå¤„ç† Spring Boot ç›¸å…³çš„ Ticket
skills: deliver-ticket, tdd, checkpoint-manager
rules: java                           # åŠ è½½ java.md è§„èŒƒ
---
# Java åç«¯å¼€å‘è€…

## ç»§æ‰¿è‡ª
core/agents/developer.md

## æŠ€æœ¯æ ˆ
- Java 8 + Spring Boot 2.5 + MyBatis

## ä»£ç è§„èŒƒ
å¼•ç”¨é˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œï¼š
- https://github.com/alibaba/p3c

å…³é”®è§„èŒƒï¼š
- ç±»åä½¿ç”¨ UpperCamelCase
- æ–¹æ³•åä½¿ç”¨ lowerCamelCase
- å¸¸é‡ä½¿ç”¨ UPPER_SNAKE_CASE
- æ‰€æœ‰ Service æ–¹æ³•éœ€è¦æœ‰ JavaDoc
- ç¦æ­¢ä½¿ç”¨é­”æ³•æ•°å­—

## ç›®å½•çº¦å®š
- Controller: ruoyi-admin/src/main/java/**/controller/
- Service Interface: ruoyi-system/src/main/java/**/service/
- Service Impl: ruoyi-system/src/main/java/**/service/impl/
- Mapper: ruoyi-system/src/main/java/**/mapper/
- Test: ruoyi-*/src/test/java/

## å‘½ä»¤
- æµ‹è¯•: mvn test -Dtest={TestClass}
- Lint: mvn checkstyle:check
```

---

## å‘½ä»¤ä½“ç³»

| å‘½ä»¤ | è§¦å‘ Agent | åŠ è½½ Skills | ä½œç”¨ |

|------|------------|-------------|------|

| `/brainstorm` | Architect | brainstorming, context-compression | å¯¹è¯ç»†åŒ–éœ€æ±‚ |

| `/split story` | Planner | story-splitter | éœ€æ±‚ â†’ Stories |

| `/split ticket S-xxx` | Planner | ticket-splitter | Story â†’ Tickets |

| `/approve stories` | - | - | å®¡æ‰¹ Story æ‹†è§£ç»“æœ |

| `/approve tickets` | - | - | å®¡æ‰¹ Ticket æ‹†è§£ç»“æœ |

| `/next` | Developer (æŒ‰ç«¯åˆ†æ´¾) | deliver-ticket, tdd, checkpoint-manager | æ‰§è¡Œä¸‹ä¸€ä¸ª Ticket |

| `/review T-xxx` | Reviewer | code-review | ä»£ç è¯„å®¡ |

| `/verify S-xxx` | QA | verification | æµ‹è¯•éªŒæ”¶ |

| `/status` | Coordinator | progress-tracker | æŸ¥çœ‹å½“å‰çŠ¶æ€ |

| `/checkpoint` | - | checkpoint-manager | æ‰‹åŠ¨åˆ›å»ºæ£€æŸ¥ç‚¹ |

| `/restore {id}` | - | checkpoint-manager | æ¢å¤åˆ°æŒ‡å®šæ£€æŸ¥ç‚¹ |

| `/rollback T-xxx` | - | checkpoint-manager | å›æ»šæŒ‡å®š Ticket |

| `/ralph-loop` | Coordinator + Developer | ralph-loop | è‡ªä¸»å¾ªç¯æ‰§è¡Œ |

| `/compress` | Coordinator | context-compression | æ‰‹åŠ¨è§¦å‘ä¸Šä¸‹æ–‡å‹ç¼© |

| `/retry T-xxx` | Developer | deliver-ticket | é‡è¯•å¤±è´¥çš„ Ticket |

| `/skip T-xxx` | - | - | è·³è¿‡ Ticketï¼ˆæ ‡è®°ä¸º blockedï¼‰ |

---

## Git Worktree å¹¶è¡Œå¼€å‘ï¼ˆå¯é€‰å¢å¼ºï¼‰

```mermaid
flowchart TD
    Main[ä¸»åˆ†æ”¯ main] --> WT1[Worktree: feature-user<br/>Backend Agent<br/>å¤„ç†ç”¨æˆ·æ¨¡å—]
    Main --> WT2[Worktree: feature-order<br/>Frontend Agent<br/>å¤„ç†è®¢å•é¡µé¢]
    Main --> WT3[Worktree: hotfix-auth<br/>Debug Agent<br/>ä¿®å¤è®¤è¯é—®é¢˜]
    
    WT1 -->|åˆå¹¶| Main
    WT2 -->|åˆå¹¶| Main
    WT3 -->|åˆå¹¶| Main
```

**ä½¿ç”¨åœºæ™¯**ï¼š

- å¤šä¸ªç‹¬ç«‹ Story å¹¶è¡Œå¼€å‘
- ä¸åŒç«¯çš„å·¥ä½œäº’ä¸å¹²æ‰°
- åˆ©ç”¨ Claude ç­‰å¾…å“åº”çš„æ—¶é—´

**å‘½ä»¤**ï¼š

```bash
/worktree create feature-user    # åˆ›å»ºæ–° worktree
/worktree list                   # åˆ—å‡ºæ‰€æœ‰ worktree
/worktree switch feature-order   # åˆ‡æ¢ worktree
```

---

## å¤ç”¨æ–¹å¼

å½“å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®ï¼ˆå¦‚ Python é¡¹ç›®ï¼‰ï¼š

1. **å¤åˆ¶ core/ ç›®å½•**ï¼ˆä¸å˜ï¼‰

2. **åˆ›å»ºæ–°çš„ project/ é…ç½®**ï¼š
```yaml
# project/config.yaml
name: my-python-api
tech_stack:
  backend:
    language: python
    framework: fastapi
commands:
  test: "pytest"
  lint: "ruff check ."
  lint-fix: "ruff check --fix ."
developers:
  - backend-python
memory:
  compression_threshold: 70%
rules_reference:
  python: "https://peps.python.org/pep-0008/"
```

3. **åˆ›å»ºé¡¹ç›®è§’è‰²**ï¼š`project/agents/backend-python.md`

4. **åˆå§‹åŒ–ç›®å½•**ï¼š`memory/`, `checkpoints/`, `workspace/logs/`

---

## æ–‡æ¡£ä½“ç³»

æœ¬æ¡†æ¶æ–‡æ¡£æ‹†åˆ†ä¸ºä»¥ä¸‹éƒ¨åˆ†ï¼š

| æ–‡æ¡£ | å†…å®¹ | ä½ç½® |

|------|------|------|

| **ä¸»æ–‡æ¡£**ï¼ˆæœ¬æ–‡æ¡£ï¼‰ | æ¶æ„è®¾è®¡ã€æµç¨‹ã€åŸåˆ™ | å½“å‰æ–‡ä»¶ |

| **æ¨¡æ¿æ–‡æ¡£** | YAML/MD æ–‡ä»¶æ¨¡æ¿ | `ä¸€äººå…¬å¸_è¯¦ç»†æ¨¡æ¿.md` |

| **Skills è¯¦ç»†æ–‡æ¡£** | æ¯ä¸ª Skill çš„å®Œæ•´ Prompt | `ä¸€äººå…¬å¸_Skillsè¯¦ç»†.md` |

---

## CLAUDE.md å…¥å£æ–‡ä»¶

```markdown
# ä¸€äººå…¬å¸ AI äº¤ä»˜æ¡†æ¶

## åŠ è½½é…ç½®
- æ ¸å¿ƒæ¡†æ¶: .claude/core/
- é¡¹ç›®é…ç½®: .claude/project/config.yaml
- å½“å‰çŠ¶æ€: osg-spec-docs/tasks/STATE.yaml

## å¯ç”¨å‘½ä»¤
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| /brainstorm | å¤´è„‘é£æš´ï¼Œç»†åŒ–éœ€æ±‚ |
| /split story | å°†éœ€æ±‚æ‹†è§£ä¸º Story |
| /split ticket S-xxx | å°† Story æ‹†è§£ä¸º Ticket |
| /approve stories | å®¡æ‰¹ Story æ‹†è§£ |
| /approve tickets | å®¡æ‰¹ Ticket æ‹†è§£ |
| /next | æ‰§è¡Œä¸‹ä¸€ä¸ª Ticket |
| /status | æŸ¥çœ‹å½“å‰è¿›åº¦ |
| /checkpoint | æ‰‹åŠ¨ä¿å­˜æ£€æŸ¥ç‚¹ |
| /restore CP-xxx | æ¢å¤åˆ°æ£€æŸ¥ç‚¹ |
| /rollback T-xxx | å›æ»š Ticket |

## å·¥ä½œæµ
Research â†’ Plan â†’ Implement â†’ Validate

## å½“å‰è§’è‰²
æ ¹æ® Ticket ç±»å‹è‡ªåŠ¨åˆ†æ´¾ï¼š
- backend â†’ backend-java Agent
- frontend â†’ frontend-vue Agent
- database â†’ dba-mysql Agent

## è®°å¿†ç®¡ç†
- ä¸Šä¸‹æ–‡é˜ˆå€¼: 70%ï¼ˆè¶…è¿‡è‡ªåŠ¨å‹ç¼©ï¼‰
- æ£€æŸ¥ç‚¹: æ¯ä¸ª Ticket å®Œæˆåè‡ªåŠ¨ä¿å­˜
- å†³ç­–è®°å½•: memory/decisions.yaml

## è§„èŒƒå¼•ç”¨
- Java: é˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œ
- Vue: Vue å®˜æ–¹é£æ ¼æŒ‡å—
```

---

## STATE.yaml å…¨å±€çŠ¶æ€æ–‡ä»¶

```yaml
# osg-spec-docs/tasks/STATE.yaml
version: "1.0"
last_updated: "2026-02-01T10:30:00Z"

# å½“å‰é˜¶æ®µ
phase: implement  # research | plan | implement | validate

# å½“å‰å·¥ä½œé¡¹
current:
  requirement: REQ-001
  story: S-001
  ticket: T-003
  agent: backend-java

# Stories çŠ¶æ€
stories:
  S-001:
    status: in_progress
    progress: "2/6"
    tickets:
      - id: T-001
        status: completed
        checkpoint: CP-20260201-100100
      - id: T-002
        status: completed
        checkpoint: CP-20260201-100300
      - id: T-003
        status: in_progress
      - id: T-004
        status: pending
      - id: T-005
        status: pending
      - id: T-006
        status: pending

# ç»Ÿè®¡
stats:
  total_stories: 1
  completed_stories: 0
  total_tickets: 6
  completed_tickets: 2
  failed_tickets: 0
  blocked_tickets: 0

# æœ€è¿‘æ£€æŸ¥ç‚¹
last_checkpoint: CP-20260201-100300

# ä¸Šä¸‹æ–‡çŠ¶æ€
context:
  usage_percent: 45
  last_compression: null
  
# ä¼šè¯ä¿¡æ¯
session:
  id: "2026-02-01-001"
  started_at: "2026-02-01T09:00:00Z"
```

---

## é¡¹ç›®åˆå§‹åŒ–æµç¨‹

### æ–¹å¼ä¸€ï¼šæ–°é¡¹ç›®åˆå§‹åŒ–

```bash
# 1. å¤åˆ¶æ ¸å¿ƒæ¡†æ¶
cp -r /path/to/core-template/.claude/core .claude/core

# 2. åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
mkdir -p .claude/project/agents
mkdir -p .claude/project/rules
mkdir -p .claude/memory/summaries
mkdir -p .claude/checkpoints
mkdir -p .claude/commands
mkdir -p docs/requirements
mkdir -p osg-spec-docs/tasks/stories
mkdir -p osg-spec-docs/tasks/tickets
mkdir -p workspace/logs
mkdir -p artifacts/reviews

# 3. åˆ›å»ºé¡¹ç›®é…ç½®
# ç¼–è¾‘ .claude/project/config.yaml

# 4. åˆ›å»º CLAUDE.md
# ç¼–è¾‘ .claude/CLAUDE.md

# 5. åˆå§‹åŒ–çŠ¶æ€
# åˆ›å»º osg-spec-docs/tasks/STATE.yamlï¼ˆç©ºçŠ¶æ€ï¼‰
```

### æ–¹å¼äºŒï¼šä½¿ç”¨åˆå§‹åŒ–å‘½ä»¤

```
/init-project ruoyi-vue --stack java,vue,mysql
```

è¯¥å‘½ä»¤ä¼šè‡ªåŠ¨ï¼š

1. æ£€æµ‹é¡¹ç›®ç±»å‹
2. ç”Ÿæˆ `project/config.yaml`
3. ç”Ÿæˆå¯¹åº”çš„ Agent å®ä¾‹
4. åˆå§‹åŒ– `osg-spec-docs/tasks/STATE.yaml`
5. åˆ›å»º `CLAUDE.md`

---

## ä¼šè¯æ¢å¤æµç¨‹

### æ–°ä¼šè¯å¯åŠ¨æ—¶

```mermaid
flowchart TD
    Start[æ–°ä¼šè¯å¼€å§‹] --> Load[åŠ è½½ CLAUDE.md]
    Load --> ReadState[è¯»å– STATE.yaml]
    ReadState --> ReadMem[è¯»å– memory/decisions.yaml]
    ReadMem --> ReadSum{æœ‰å†å²æ‘˜è¦?}
    ReadSum -->|æ˜¯| LoadSum[åŠ è½½æœ€è¿‘æ‘˜è¦]
    ReadSum -->|å¦| Skip[è·³è¿‡]
    LoadSum --> Report[è¾“å‡ºçŠ¶æ€æŠ¥å‘Š]
    Skip --> Report
    Report --> Ready[å‡†å¤‡å°±ç»ª]
```

### æ¢å¤è¾“å‡ºæ ¼å¼

```
## ğŸ”„ ä¼šè¯æ¢å¤

**ä¸Šæ¬¡ä¼šè¯**: 2026-02-01 10:30
**å½“å‰é˜¶æ®µ**: Implement
**å½“å‰ä»»åŠ¡**: S-001 / T-003

### è¿›åº¦
- Story S-001: ç”¨æˆ·ç®¡ç†æ¨¡å— (2/6 å®Œæˆ)
- ä¸‹ä¸€ä¸ª Ticket: T-003 ç”¨æˆ·ç¼–è¾‘ API

### é‡è¦å†³ç­–
- D-001: ä½¿ç”¨ MyBatis-Plus æ›¿ä»£åŸç”Ÿ MyBatis

### å¯ç”¨æ“ä½œ
- `/next` - ç»§ç»­æ‰§è¡Œ T-003
- `/status` - æŸ¥çœ‹è¯¦ç»†çŠ¶æ€
- `/restore CP-xxx` - æ¢å¤åˆ°æŒ‡å®šæ£€æŸ¥ç‚¹

---
ç»§ç»­æ‰§è¡Œ T-003 å—ï¼Ÿè¾“å…¥ `/next` æˆ–å…¶ä»–å‘½ä»¤ã€‚
```

---

## Subagent è°ƒç”¨è¯­æ³•

### Claude Code å®˜æ–¹è¯­æ³•

```markdown
# åœ¨ä¸» Agent ä¸­è°ƒç”¨ Subagent

Task(agent="backend-java", prompt="æ‰§è¡Œ Ticket T-003")
```

### è‡ªåŠ¨åˆ†æ´¾é€»è¾‘

```python
# ä¼ªä»£ç ï¼šæ ¹æ® Ticket ç±»å‹åˆ†æ´¾ Agent
def dispatch_agent(ticket):
    type_to_agent = {
        "backend": "backend-java",
        "frontend": "frontend-vue", 
        "database": "dba-mysql",
        "fullstack": "backend-java"  # é»˜è®¤åç«¯
    }
    return type_to_agent.get(ticket.type, "developer")
```

### /next å‘½ä»¤çš„åˆ†æ´¾æµç¨‹

```mermaid
flowchart TD
    Next[/next å‘½ä»¤] --> GetTicket[è·å–ä¸‹ä¸€ä¸ª pending Ticket]
    GetTicket --> CheckType{Ticket ç±»å‹?}
    CheckType -->|backend| BE[è°ƒç”¨ backend-java Agent]
    CheckType -->|frontend| FE[è°ƒç”¨ frontend-vue Agent]
    CheckType -->|database| DBA[è°ƒç”¨ dba-mysql Agent]
    BE --> Execute[æ‰§è¡Œ deliver-ticket Skill]
    FE --> Execute
    DBA --> Execute
```

---

## éœ€æ±‚æ–‡æ¡£æ ¼å¼

### docs/requirements/REQ-001.md

```markdown
# REQ-001: ç”¨æˆ·ç®¡ç†æ¨¡å—

## èƒŒæ™¯
ç³»ç»Ÿéœ€è¦å®Œå–„çš„ç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒç®¡ç†å‘˜å¯¹ç³»ç»Ÿç”¨æˆ·è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œã€‚

## ç›®æ ‡ç”¨æˆ·
- ç³»ç»Ÿç®¡ç†å‘˜

## åŠŸèƒ½éœ€æ±‚

### 1. ç”¨æˆ·åˆ—è¡¨
- åˆ†é¡µå±•ç¤ºç”¨æˆ·åˆ—è¡¨
- æ”¯æŒæŒ‰ç”¨æˆ·åã€æ‰‹æœºå·ã€çŠ¶æ€ç­›é€‰
- æ”¯æŒæŒ‰åˆ›å»ºæ—¶é—´æ’åº

### 2. æ–°å¢ç”¨æˆ·
- å¿…å¡«ï¼šç”¨æˆ·åã€å¯†ç ã€æ‰‹æœºå·
- é€‰å¡«ï¼šé‚®ç®±ã€éƒ¨é—¨ã€è§’è‰²
- æ ¡éªŒï¼šç”¨æˆ·åå”¯ä¸€ã€æ‰‹æœºå·æ ¼å¼

### 3. ç¼–è¾‘ç”¨æˆ·
- å¯ä¿®æ”¹ï¼šåŸºæœ¬ä¿¡æ¯ã€éƒ¨é—¨ã€è§’è‰²
- ä¸å¯ä¿®æ”¹ï¼šç”¨æˆ·å
- æ”¯æŒé‡ç½®å¯†ç 

### 4. åˆ é™¤ç”¨æˆ·
- è½¯åˆ é™¤ï¼ˆé€»è¾‘åˆ é™¤ï¼‰
- æ”¯æŒæ‰¹é‡åˆ é™¤
- åˆ é™¤å‰ç¡®è®¤

### 5. çŠ¶æ€ç®¡ç†
- å¯ç”¨/ç¦ç”¨ç”¨æˆ·
- ç¦ç”¨ç”¨æˆ·æ— æ³•ç™»å½•

## éåŠŸèƒ½éœ€æ±‚
- åˆ—è¡¨åŠ è½½æ—¶é—´ < 1s
- æ‰€æœ‰æ“ä½œéœ€è¦è®°å½•æ—¥å¿—

## éªŒæ”¶æ ‡å‡†
- [ ] ç”¨æˆ·åˆ—è¡¨æ­£å¸¸æ˜¾ç¤º
- [ ] å¯æ–°å¢ç”¨æˆ·ï¼Œæ ¡éªŒæ­£å¸¸
- [ ] å¯ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯
- [ ] å¯åˆ é™¤ç”¨æˆ·ï¼ˆè½¯åˆ é™¤ï¼‰
- [ ] çŠ¶æ€åˆ‡æ¢æ­£å¸¸
- [ ] æ‰€æœ‰æ¥å£æœ‰å•å…ƒæµ‹è¯•

## ä¼˜å…ˆçº§
P0 - æ ¸å¿ƒåŠŸèƒ½

## é¢„ä¼°
- Stories: 1-2 ä¸ª
- Tickets: 8-12 ä¸ª
- å·¥ä½œé‡: çº¦ 1 å°æ—¶
```

---

## å®ç°è·¯å¾„

### Phase 1: Core ç»“æ„

- åˆ›å»º `.claude/core/` ç›®å½•ç»“æ„
- åˆ›å»º `memory/`, `checkpoints/`, `workspace/logs/` ç›®å½•
- åˆ›å»º `core/templates/*.yaml` æ¨¡æ¿æ–‡ä»¶

### Phase 2: è®°å¿†ç®¡ç† Skills

- ç¼–å†™ `memory-bank/SKILL.md`
- ç¼–å†™ `context-compression/SKILL.md`
- ç¼–å†™ `checkpoint-manager/SKILL.md`

### Phase 3: å·¥ä½œæµ Skills

- ç¼–å†™ `brainstorming/SKILL.md`
- ç¼–å†™ `story-splitter/SKILL.md`ï¼ˆå«å®Œæ•´ Prompt æ¨¡æ¿ï¼‰
- ç¼–å†™ `ticket-splitter/SKILL.md`ï¼ˆå«å®Œæ•´ Prompt æ¨¡æ¿ï¼‰
- ç¼–å†™ `deliver-ticket/SKILL.md`ï¼ˆå«å®Œæ•´ Prompt æ¨¡æ¿ï¼‰

### Phase 4: è´¨é‡ Skills

- ç¼–å†™ `verification/SKILL.md`
- ç¼–å†™ `tdd/SKILL.md`
- ç¼–å†™ `debugging/SKILL.md`
- ç¼–å†™ `code-review/SKILL.md`

### Phase 5: è‡ªåŠ¨åŒ– Skills

- ç¼–å†™ `ralph-loop/SKILL.md`
- ç¼–å†™ `progress-tracker/SKILL.md`

### Phase 6: Agent æ¨¡æ¿

- ç¼–å†™ `coordinator.md`
- ç¼–å†™ `architect.md`
- ç¼–å†™ `planner.md`
- ç¼–å†™ `developer.md`
- ç¼–å†™ `reviewer.md`
- ç¼–å†™ `qa.md`

### Phase 7: Project é…ç½®ï¼ˆè‹¥ä¾ï¼‰

- åˆ›å»º `project/config.yaml`ï¼ˆå«å®¡æ‰¹ã€é”™è¯¯å¤„ç†ã€è§„èŒƒå¼•ç”¨é…ç½®ï¼‰
- åˆ›å»º `project/agents/`ï¼ˆbackend-java, frontend-vue, dba-mysqlï¼‰
- åˆ›å»º `project/rules/`ï¼ˆå¼•ç”¨é˜¿é‡Œè§„èŒƒï¼‰

### Phase 8: Commands

- ç¼–å†™ `commands/*.md` å¿«æ·å‘½ä»¤ï¼ˆå« approveã€rollbackã€retryï¼‰

### Phase 9: ç«¯åˆ°ç«¯æµ‹è¯•

- æ”¾éœ€æ±‚åˆ° `docs/requirements/`
- è¿è¡Œå®Œæ•´æµç¨‹ï¼š`/brainstorm` â†’ `/split` â†’ `/approve` â†’ `/next` â†’ `/verify`
- æµ‹è¯•é”™è¯¯å¤„ç†å’Œå›æ»š
- æµ‹è¯•è®°å¿†ç®¡ç†å’Œæ£€æŸ¥ç‚¹æ¢å¤