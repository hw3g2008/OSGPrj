# Skills - å·¥ä½œæµç±»

æœ¬æ–‡æ¡£åŒ…å« 4 ä¸ªå·¥ä½œæµç›¸å…³çš„ Skillsï¼š
- brainstorming
- story-splitter
- ticket-splitter
- deliver-ticket

---

## 1. brainstorming

**å‚è€ƒæ¥æº**ï¼šobra/superpowers brainstorming skill

```yaml
---
name: brainstorming
description: å¤´è„‘é£æš´ã€‚å½“ç”¨æˆ·è¯´ /brainstorm æˆ–éœ€è¦ç»†åŒ–éœ€æ±‚æ—¶æ¿€æ´»ã€‚
invoked_by: user
---
```

### æ ¸å¿ƒæµç¨‹

1. ç†è§£ä¸Šä¸‹æ–‡ï¼ˆè¯»å–éœ€æ±‚æ–‡æ¡£ï¼‰
2. ç»†åŒ–éœ€æ±‚ï¼ˆä¸€æ¬¡ä¸€ä¸ªé—®é¢˜ï¼Œä¼˜å…ˆé€‰æ‹©é¢˜ï¼‰
3. æ¢ç´¢æ–¹æ¡ˆï¼ˆæå‡º 2-3 ä¸ªæ–¹æ¡ˆåŠ trade-offsï¼‰
4. ç¡®è®¤åè®°å½•å†³ç­–åˆ° memory/decisions.yaml

### Prompt æ¨¡æ¿

```markdown
# Brainstorming Skill

## è§¦å‘
- ç”¨æˆ·æ‰§è¡Œ `/brainstorm`
- éœ€è¦ç»†åŒ–éœ€æ±‚æ—¶

## æµç¨‹

### Step 1: ç†è§£ä¸Šä¸‹æ–‡
è¯»å–éœ€æ±‚æ–‡æ¡£ï¼Œè¾“å‡ºç†è§£ï¼š
"""
## ğŸ“– éœ€æ±‚ç†è§£

**éœ€æ±‚æ¥æº**: {source}
**æ ¸å¿ƒç›®æ ‡**: {goal}
**æ¶‰åŠæ¨¡å—**: {modules}
"""

### Step 2: ç»†åŒ–éœ€æ±‚
ä¸€æ¬¡é—®ä¸€ä¸ªé—®é¢˜ï¼Œä¼˜å…ˆé€‰æ‹©é¢˜ï¼š
"""
### â“ éœ€è¦ç¡®è®¤

å…³äº {aspect}ï¼Œæ‚¨å¸Œæœ›ï¼š
- A) {option_a}
- B) {option_b}
- C) å…¶ä»–ï¼ˆè¯·è¯´æ˜ï¼‰
"""

### Step 3: æ¢ç´¢æ–¹æ¡ˆ
æå‡º 2-3 ä¸ªæ–¹æ¡ˆåŠ trade-offsï¼š
"""
## ğŸ’¡ æ–¹æ¡ˆæ¢ç´¢

### æ–¹æ¡ˆ 1: {name}
- **æè¿°**: {description}
- **ä¼˜ç‚¹**: {pros}
- **ç¼ºç‚¹**: {cons}
- **é€‚ç”¨åœºæ™¯**: {scenario}

### æ–¹æ¡ˆ 2: {name}
...

### å»ºè®®
åŸºäº {reason}ï¼Œå»ºè®®é‡‡ç”¨ **æ–¹æ¡ˆ {n}**ã€‚
"""

### Step 4: è®°å½•å†³ç­–
ç¡®è®¤åï¼Œè°ƒç”¨ memory-bank skill è®°å½•å†³ç­–ã€‚

## ç¡¬æ€§çº¦æŸ
1. ä¸€æ¬¡åªé—®ä¸€ä¸ªé—®é¢˜
2. ä¼˜å…ˆä½¿ç”¨é€‰æ‹©é¢˜è€Œéå¼€æ”¾å¼é—®é¢˜
3. æ‰€æœ‰æ–¹æ¡ˆå¿…é¡»æœ‰ trade-offs åˆ†æ
4. ç¡®è®¤åå¿…é¡»è®°å½•å†³ç­–
```

---

## 2. story-splitter

```yaml
---
name: story-splitter
description: Story æ‹†è§£ã€‚å°†éœ€æ±‚æ‹†è§£ä¸ºå¤šä¸ª User Storyï¼Œéµå¾ª INVEST åŸåˆ™ã€‚
invoked_by: user
---
```

### è¾“å…¥è¦æ±‚

1. éœ€æ±‚æ–‡æ¡£è·¯å¾„ï¼ˆdocs/requirements/REQ-xxx.mdï¼‰
2. æˆ–ç›´æ¥çš„éœ€æ±‚æè¿°

### INVEST åŸåˆ™

| åŸåˆ™ | æ£€æŸ¥é¡¹ | é€šè¿‡æ ‡å‡† |
|------|--------|----------|
| **I**ndependent | æ˜¯å¦ç‹¬ç«‹ | ä¸ä¾èµ–å…¶ä»– Story å®Œæˆ |
| **N**egotiable | æ˜¯å¦å¯åå•† | ç»†èŠ‚å¯è°ƒæ•´ |
| **V**aluable | æ˜¯å¦æœ‰ä»·å€¼ | å¯¹ç”¨æˆ·æœ‰æ˜ç¡®ä»·å€¼ |
| **E**stimable | æ˜¯å¦å¯ä¼°ç®— | èƒ½ä¼°ç®— Ticket æ•°é‡ |
| **S**mall | æ˜¯å¦å¤Ÿå° | 5-10 ä¸ª Ticket ä»¥å†… |
| **T**estable | æ˜¯å¦å¯æµ‹è¯• | æœ‰æ˜ç¡®éªŒæ”¶æ ‡å‡† |

### Prompt æ¨¡æ¿

```markdown
# Story Splitter Skill

## è§¦å‘
- ç”¨æˆ·æ‰§è¡Œ `/split story`

## æµç¨‹

### Step 1: éœ€æ±‚ç†è§£
"""
## ğŸ“– éœ€æ±‚ç†è§£

**éœ€æ±‚æ¥æº**: {REQ-xxx}
**æ ¸å¿ƒç›®æ ‡**: {ä¸€å¥è¯æè¿°}
**æ¶‰åŠæ¨¡å—**: {æ¨¡å—åˆ—è¡¨}
**æ¶‰åŠç«¯**: {backend/frontend/database}
"""

### Step 2: Story è¯†åˆ«
æŒ‰ä»¥ä¸‹ç»´åº¦æ‹†è§£ï¼š
- æŒ‰ç”¨æˆ·è§’è‰²æ‹†åˆ†
- æŒ‰åŠŸèƒ½æ¨¡å—æ‹†åˆ†
- æŒ‰æ•°æ®å®ä½“æ‹†åˆ†

### Step 3: INVEST æ£€éªŒ
æ¯ä¸ª Story å¿…é¡»æ»¡è¶³ INVEST åŸåˆ™ã€‚

### Step 4: è¾“å‡ºæ ¼å¼
"""
## ğŸ“ Story æ‹†è§£ç»“æœ

**éœ€æ±‚**: {REQ-xxx} - {éœ€æ±‚æ ‡é¢˜}

### Story åˆ—è¡¨

| ID | æ ‡é¢˜ | æ¶‰åŠç«¯ | é¢„ä¼° Tickets | ä¼˜å…ˆçº§ |
|----|------|--------|--------------|--------|
| S-001 | {æ ‡é¢˜} | backend, frontend | 6 | P0 |
| S-002 | {æ ‡é¢˜} | backend | 4 | P1 |

### Story è¯¦æƒ…

#### S-001: {æ ‡é¢˜}
- **æè¿°**: {ç”¨æˆ·æ•…äº‹æè¿°}
- **éªŒæ”¶æ ‡å‡†**:
  1. {æ ‡å‡†1}
  2. {æ ‡å‡†2}
- **INVEST æ£€æŸ¥**: âœ… å…¨éƒ¨é€šè¿‡

#### S-002: {æ ‡é¢˜}
...

### ä¾èµ–å…³ç³»
```
S-001 (ç‹¬ç«‹)
S-002 â†’ S-001 (ä¾èµ– S-001 çš„ç”¨æˆ·æ•°æ®)
```

### âš ï¸ éœ€è¦ç¡®è®¤
1. {éœ€è¦äººå·¥ç¡®è®¤çš„é—®é¢˜1}
2. {éœ€è¦äººå·¥ç¡®è®¤çš„é—®é¢˜2}

---
**ä¸‹ä¸€æ­¥**: è¯·ç¡®è®¤åè¿è¡Œ `/approve stories`ï¼Œç„¶å `/split ticket S-001`
"""

## è¾“å‡ºæ–‡ä»¶
ä¸ºæ¯ä¸ª Story åˆ›å»º YAML æ–‡ä»¶ï¼š
- `tasks/stories/S-001.yaml`
- `tasks/stories/S-002.yaml`

åŒæ—¶æ›´æ–° `tasks/STATE.yaml`
```

---

## 3. ticket-splitter

```yaml
---
name: ticket-splitter
description: Ticket æ‹†è§£ã€‚å°† Story æ‹†è§£ä¸º 2-5 åˆ†é’Ÿçš„å¯æ‰§è¡Œ Ticketã€‚
invoked_by: user
---
```

### æ‹†è§£åŸåˆ™ï¼ˆå€Ÿé‰´ superpowersï¼‰

- æ¯ä¸ª Ticket 2-5 åˆ†é’Ÿå¯å®Œæˆ
- æ˜ç¡®çš„æ–‡ä»¶è·¯å¾„ï¼ˆä¸å«æ¨¡ç³Šæè¿°ï¼‰
- TDD ç»“æ„ï¼ˆæµ‹è¯•å…ˆè¡Œï¼‰
- æŒ‡å®šæ‰§è¡Œ Agentï¼ˆbackend/frontend/dbaï¼‰

### Prompt æ¨¡æ¿

```markdown
# Ticket Splitter Skill

## è§¦å‘
- ç”¨æˆ·æ‰§è¡Œ `/split ticket S-xxx`

## æµç¨‹

### Step 1: è¯»å– Story
è¯»å– `tasks/stories/S-xxx.yaml`ï¼Œç†è§£èŒƒå›´ã€‚

### Step 2: åˆ†æå®ç°è·¯å¾„
1. ç¡®å®šæ¶‰åŠçš„æ–‡ä»¶
2. ç¡®å®šä¿®æ”¹é¡ºåº
3. ç¡®å®šæµ‹è¯•ç­–ç•¥

### Step 3: æ‹†è§£ Tickets
æ¯ä¸ª Ticket å¿…é¡»åŒ…å«ï¼š
- æ˜ç¡®çš„æ–‡ä»¶è·¯å¾„
- TDD æµ‹è¯•ç”¨ä¾‹
- éªŒæ”¶æ ‡å‡†ï¼ˆå¯éªŒè¯ï¼‰
- æ‰§è¡Œ Agent

### Step 4: è¾“å‡ºæ ¼å¼
"""
## ğŸ“ Ticket æ‹†è§£ç»“æœ

**Story**: S-001 - {æ ‡é¢˜}

### Ticket åˆ—è¡¨

| ID | æ ‡é¢˜ | ç±»å‹ | Agent | é¢„ä¼° |
|----|------|------|-------|------|
| T-001 | ç”¨æˆ·åˆ—è¡¨ API | backend | backend-java | 5min |
| T-002 | æ–°å¢ç”¨æˆ· API | backend | backend-java | 5min |
| T-003 | ç”¨æˆ·åˆ—è¡¨é¡µé¢ | frontend | frontend-vue | 5min |

### Ticket è¯¦æƒ…

#### T-001: ç”¨æˆ·åˆ—è¡¨ API
- **ç±»å‹**: backend
- **Agent**: backend-java
- **ä¿®æ”¹æ–‡ä»¶**:
  - `ruoyi-admin/src/.../SysUserController.java`
  - `ruoyi-system/src/.../ISysUserService.java`
- **æµ‹è¯•ç”¨ä¾‹**:
  - testListUsers_success
  - testListUsers_withCondition
- **éªŒæ”¶**: `mvn test -Dtest=SysUserControllerTest` é€šè¿‡

...

### æ‰§è¡Œé¡ºåº
```
T-001 â†’ T-002 â†’ T-003 (é¡ºåºæ‰§è¡Œ)
T-004 âˆ¥ T-005 (å¯å¹¶è¡Œ)
```

---
**ä¸‹ä¸€æ­¥**: è¯·ç¡®è®¤åè¿è¡Œ `/approve tickets`ï¼Œç„¶å `/next`
"""

## è¾“å‡ºæ–‡ä»¶
ä¸ºæ¯ä¸ª Ticket åˆ›å»º YAML æ–‡ä»¶ï¼š
- `tasks/tickets/T-001.yaml`
- `tasks/tickets/T-002.yaml`

## ç¡¬æ€§çº¦æŸ
1. æ¯ä¸ª Ticket å¿…é¡»æœ‰æ˜ç¡®çš„ allowed_paths
2. æ¯ä¸ª Ticket å¿…é¡»æœ‰å¯éªŒè¯çš„éªŒæ”¶æ ‡å‡†
3. æ¯ä¸ª Ticket å¿…é¡»æŒ‡å®šæ‰§è¡Œ Agent
4. é¢„ä¼°æ—¶é—´ä¸è¶…è¿‡ 5 åˆ†é’Ÿ
5. **è¶…æ—¶æ‹†åˆ†**ï¼šé¢„ä¼°è¶…è¿‡ 5 åˆ†é’Ÿçš„ä»»åŠ¡å¿…é¡»è¿›ä¸€æ­¥æ‹†åˆ†
6. **é˜»å¡æ ‡è®°**ï¼šæ— æ³•ç¡®å®š allowed_paths æ—¶ï¼Œæ ‡è®° `status: blocked` å¹¶è¯´æ˜åŸå› 

## é˜»å¡å¤„ç†

å½“é‡åˆ°ä»¥ä¸‹æƒ…å†µæ—¶ï¼ŒTicket åº”æ ‡è®°ä¸º `blocked`ï¼š

| åœºæ™¯ | å¤„ç† |
|------|------|
| æ— æ³•ç¡®å®šä¿®æ”¹å“ªäº›æ–‡ä»¶ | æ ‡è®° blockedï¼Œæç¤ºéœ€è¦äººå·¥ç¡®è®¤ |
| ä¾èµ–æœªå®Œæˆçš„ Ticket | æ ‡è®° blockedï¼Œè®°å½•ä¾èµ– |
| éœ€è¦è®¿é—®é¡¹ç›®å¤–èµ„æº | æ ‡è®° blockedï¼Œè¯´æ˜æ‰€éœ€èµ„æº |
| éœ€æ±‚ä¸æ˜ç¡® | æ ‡è®° blockedï¼Œåˆ—å‡ºéœ€è¦æ¾„æ¸…çš„é—®é¢˜ |

### é˜»å¡ Ticket æ ¼å¼

```yaml
# tasks/tickets/T-xxx.yaml
id: "T-003"
title: "ç”¨æˆ·è§’è‰²å…³è”"
status: blocked  # æ ‡è®°ä¸ºé˜»å¡
blocked_reason: "æ— æ³•ç¡®å®šè§’è‰²è¡¨ç»“æ„ï¼Œéœ€è¦ç¡®è®¤æ˜¯å¦ä½¿ç”¨ç°æœ‰ sys_role è¡¨"
blocked_questions:
  - "æ˜¯å¦å¤ç”¨ sys_role è¡¨ï¼Ÿ"
  - "æ–°å¢å­—æ®µè¿˜æ˜¯æ–°å»ºå…³è”è¡¨ï¼Ÿ"
next_action: "ç­‰å¾…äººå·¥ç¡®è®¤åæ‰§è¡Œ /unblock T-003"
```
```

---

## 4. deliver-ticket

```yaml
---
name: deliver-ticket
description: æ‰§è¡Œ Ticketã€‚ä¸¥æ ¼æŒ‰ Ticket å®ç°ï¼Œéµå¾ª allowed_paths çº¦æŸã€‚
invoked_by: user, agent
---
```

### Prompt æ¨¡æ¿

```markdown
# Deliver Ticket Skill

## å¼ºåˆ¶é¦–æ­¥ï¼šç†è§£ç¡®è®¤

è¯»å– Ticket åï¼Œ**å¿…é¡»**å…ˆè¾“å‡ºç†è§£ç¡®è®¤ï¼š

"""
## ğŸ“‹ ä»»åŠ¡ç†è§£

**Ticket**: {id} - {title}

**ç›®æ ‡**: 
{description çš„ä¸€å¥è¯æ€»ç»“}

**å…è®¸ä¿®æ”¹çš„æ–‡ä»¶**:
- {allowed_paths.modify åˆ—è¡¨}

**å¯ä»¥æ–°å»ºçš„æ–‡ä»¶**:
- {allowed_paths.create åˆ—è¡¨}

**éªŒæ”¶æ ‡å‡†**:
1. {acceptance[0]}
2. {acceptance[1]}
...

**å‚è€ƒæ–‡ä»¶**:
- {allowed_paths.read åˆ—è¡¨}

âœ… ç†è§£ç¡®è®¤ï¼Œå¼€å§‹æ‰§è¡Œã€‚
"""

## æ‰§è¡Œæµç¨‹

### Phase 1: TDD çº¢ç¯
1. æ ¹æ® `tdd.test_cases` ç¼–å†™æµ‹è¯•
2. è¿è¡Œæµ‹è¯•ï¼Œç¡®è®¤å¤±è´¥ï¼ˆçº¢ç¯ï¼‰
3. è¾“å‡ºï¼š
"""
### ğŸ”´ çº¢ç¯é˜¶æ®µ
æµ‹è¯•æ–‡ä»¶: {test_file}
æµ‹è¯•ç”¨ä¾‹: {test_cases}
è¿è¡Œç»“æœ:
```
{æµ‹è¯•è¾“å‡ºï¼Œæ˜¾ç¤ºå¤±è´¥}
```
"""

### Phase 2: å®ç°ä»£ç 
1. é˜…è¯»å‚è€ƒæ–‡ä»¶ï¼ˆallowed_paths.readï¼‰
2. å®ç°åŠŸèƒ½ä»£ç 
3. **ä¸¥æ ¼é™åˆ¶**åœ¨ allowed_paths.modify èŒƒå›´å†…

### Phase 3: TDD ç»¿ç¯
1. è¿è¡Œæµ‹è¯•ï¼Œç¡®è®¤é€šè¿‡
2. è¾“å‡ºï¼š
"""
### ğŸŸ¢ ç»¿ç¯é˜¶æ®µ
è¿è¡Œç»“æœ:
```
{æµ‹è¯•è¾“å‡ºï¼Œæ˜¾ç¤ºæˆåŠŸ}
```
"""

### Phase 4: ä»£ç æ£€æŸ¥
1. è¿è¡Œ lint å‘½ä»¤
2. å¦‚æœ‰é—®é¢˜ï¼Œè‡ªåŠ¨ä¿®å¤
3. è¾“å‡ºï¼š
"""
### âœ… ä»£ç æ£€æŸ¥
```
{lint è¾“å‡º}
```
"""

## å®ŒæˆæŠ¥å‘Šæ ¼å¼

"""
## âœ… Ticket {id} å®ŒæˆæŠ¥å‘Š

### ä¿®æ”¹æ–‡ä»¶
| æ–‡ä»¶ | å˜æ›´ | è¯´æ˜ |
|------|------|------|
| {file1} | +{added} -{removed} | {å˜æ›´è¯´æ˜} |

### éªŒè¯è¯æ®

**æµ‹è¯•ç»“æœ**:
```
{mvn test è¾“å‡º}
```

**Lint ç»“æœ**:
```
{lint è¾“å‡º}
```

### æ£€æŸ¥ç‚¹
å·²ä¿å­˜: **{checkpoint_id}**

### ä¸‹ä¸€æ­¥
- ä¸‹ä¸€ä¸ª Ticket: {next_ticket_id}
- æˆ–è¿è¡Œ `/next` ç»§ç»­
"""

## ç¡¬æ€§çº¦æŸï¼ˆè¿ååˆ™ç«‹å³åœæ­¢ï¼‰

1. **ç¦æ­¢ä¿®æ”¹ allowed_paths ä¹‹å¤–çš„æ–‡ä»¶**
   - è¿åæ—¶ï¼šç«‹å³åœæ­¢ï¼Œè¾“å‡ºè¿è§„æŠ¥å‘Š

2. **ç¦æ­¢è·³è¿‡æµ‹è¯•**
   - å¿…é¡»å…ˆå†™æµ‹è¯•ï¼Œæµ‹è¯•å¿…é¡»å…ˆå¤±è´¥

3. **ç¦æ­¢è·³è¿‡éªŒè¯å‘½ä»¤**
   - æ‰€æœ‰ acceptance æ£€æŸ¥å¿…é¡»æ‰§è¡Œ

4. **é‡åˆ°é˜»å¡ç«‹å³åœæ­¢**
   - ä¸çŒœæµ‹ã€ä¸å‡è®¾
   - è¾“å‡ºé˜»å¡åŸå› ï¼Œç­‰å¾…äººå·¥ä»‹å…¥

5. **å®Œæˆåå¿…é¡»åˆ›å»ºæ£€æŸ¥ç‚¹**
```

---

## ç›¸å…³æ–‡æ¡£

- [00_æ¦‚è§ˆ](00_æ¦‚è§ˆ.md) - è¿”å›æ¦‚è§ˆ
- [10_Skills_è®°å¿†ç®¡ç†](10_Skills_è®°å¿†ç®¡ç†.md) - è®°å¿†ç®¡ç† Skills
- [12_Skills_è´¨é‡](12_Skills_è´¨é‡.md) - è´¨é‡ Skills
- [30_æ ¼å¼è§„èŒƒ](30_æ ¼å¼è§„èŒƒ.md) - Ticket YAML æ ¼å¼è¯¦æƒ…
