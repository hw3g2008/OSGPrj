# Windsurf ä¸»æ§ + Claude Code é¡¾é—® é›†æˆæ–¹æ¡ˆ

> WS é€šè¿‡ Slash Command é©±åŠ¨ RPIV æµç¨‹ï¼ŒCC ä½œä¸ºé¡¾é—®åœ¨å…³é”®èŠ‚ç‚¹æä¾›äº¤å‰éªŒè¯ã€‚
>
> æœ€åæ›´æ–°ï¼š2026-02-13

---

## 1. æ ¸å¿ƒåŸåˆ™

1. **Skills å…±äº«** â€” Windsurf è‡ªåŠ¨æ‰«æ `.claude/skills/` ç›®å½•ï¼ˆAgent Skills å¼€æ”¾æ ‡å‡†ï¼‰ï¼Œä¸¤ä¸ª IDE å…±äº«åŒä¸€å¥— Skillsï¼Œæ— éœ€é‡å¤é…ç½®
2. **Workflow é©±åŠ¨** â€” ç”¨æˆ·é€šè¿‡ `/slash-command` è§¦å‘ `.windsurf/workflows/`ï¼ŒWorkflow ç¼–æ’æµç¨‹ï¼ŒSkills å®šä¹‰æ‰§è¡Œé€»è¾‘
3. **WS æ˜¯ä¸»åŠ›** â€” å†™ä»£ç ã€å†™æµ‹è¯•ã€è‡ªå®¡ã€æ›´æ–° STATE.yaml
4. **CC æ˜¯é¡¾é—®** â€” åªåœ¨å…³é”®èŠ‚ç‚¹è¢«è°ƒç”¨ï¼ˆ`/cc-review`ï¼‰ï¼Œæä¾›äº¤å‰éªŒè¯

---

## 2. æ¶æ„æ€»è§ˆ

```
ç”¨æˆ·è¾“å…¥ /rpiv
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  .windsurf/workflows/rpiv.md   â”‚  â† Workflowï¼ˆè°ƒåº¦å™¨ï¼‰
â”‚  è¯»å– STATE.yaml â†’ åˆ¤æ–­é˜¶æ®µ    â”‚
â”‚  â†’ è°ƒç”¨å¯¹åº” Workflow            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â–¼             â–¼
/brainstorm    /next        ...
    â”‚             â”‚
    â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Skills  â”‚  â”‚   Skills     â”‚  â† .claude/skills/ï¼ˆæ‰§è¡Œå¼•æ“ï¼‰
â”‚ brain-  â”‚  â”‚ deliver-     â”‚
â”‚ stormingâ”‚  â”‚ ticket       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
              â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
              â–¼         â–¼
         test-design  test-execution  â† Skill äº’ç›¸è°ƒç”¨
```

**ä¸‰å±‚æ¶æ„**ï¼š
- **Workflow å±‚**ï¼ˆ`.windsurf/workflows/`ï¼‰â€” æµç¨‹ç¼–æ’ï¼Œç”¨æˆ·é€šè¿‡ slash command è§¦å‘
- **Skill å±‚**ï¼ˆ`.claude/skills/`ï¼‰â€” æ‰§è¡Œé€»è¾‘ï¼ŒCascade è‡ªåŠ¨åŒ¹é… description è°ƒç”¨
- **çŠ¶æ€å±‚**ï¼ˆ`osg-spec-docs/tasks/STATE.yaml`ï¼‰â€” æŒä¹…åŒ–çŠ¶æ€ï¼Œé©±åŠ¨æµç¨‹æµè½¬

---

## 3. åˆ†å·¥

| è§’è‰² | èŒè´£ | è§¦å‘æ–¹å¼ |
|------|------|---------|
| **Windsurf** | ä¸»åŠ›æ‰§è¡Œï¼šè°ƒç”¨ Skillsã€å†™ä»£ç ã€å†™æµ‹è¯•ã€è‡ªå®¡ã€æ›´æ–° STATE.yaml | `/slash-command` |
| **Claude Code** | é¡¾é—®å®¡æ ¸ï¼šäº¤å‰éªŒè¯ã€è®¾è®¡å†³ç­–ä»²è£ã€å¼‚å¸¸é—®é¢˜åˆ†æ | `/cc-review` â†’ `claude -p` |
| **ç”¨æˆ·** | å®¡æ‰¹é—¨æ§ï¼šStories å®¡æ‰¹ã€Tickets å®¡æ‰¹ã€Story éªŒæ”¶ç¡®è®¤ | æ‰‹åŠ¨ç¡®è®¤ |

---

## 4. Workflow æ¸…å•

æ‰€æœ‰ Workflow å­˜æ”¾åœ¨ `.windsurf/workflows/`ï¼Œé€šè¿‡ `/name` è§¦å‘ã€‚
å‘½ä»¤åç§°ä¸ CC ç«¯ï¼ˆCLAUDE.mdï¼‰ä¿æŒä¸€è‡´ï¼š

| Slash Command | æ–‡ä»¶ | åŠŸèƒ½ | å¯¹åº” Skill |
|--------------|------|------|-----------|
| `/brainstorm {æ¨¡å—}` | brainstorm.md | éœ€æ±‚åˆ†æï¼Œå¤šè½®æ­£å‘/åå‘æ ¡éªŒ | brainstorming |
| `/split-story` | split-story.md | æ‹†åˆ† User Storiesï¼ˆINVEST åŸåˆ™ï¼‰ | story-splitter |
| `/split-ticket S-xxx` | split-ticket.md | æ‹†åˆ†å¾®ä»»åŠ¡ Ticketsï¼ˆ2-5 åˆ†é’Ÿç²’åº¦ï¼‰ | ticket-splitter |
| `/approve` | approve.md | å®¡æ‰¹ Stories æˆ– Tickets | â€” |
| `/next` | next.md | æ‰§è¡Œä¸‹ä¸€ä¸ªå¾…åŠ Ticket | deliver-ticket |
| `/verify` | verify.md | éªŒæ”¶å½“å‰ Story | verification |
| `/status` | status.md | æŸ¥çœ‹é¡¹ç›®è¿›åº¦ | â€” |
| `/checkpoint` | checkpoint.md | ä¿å­˜å·¥ä½œæ£€æŸ¥ç‚¹ | checkpoint-manager |
| `/save` | save.md | ä¿å­˜è¿›åº¦åˆ° STATE.yaml | â€” |
| `/restore` | restore.md | æ¢å¤åˆ°ä¹‹å‰çš„æ£€æŸ¥ç‚¹ | â€” |
| `/rollback` | rollback.md | å›æ»š Ticket/Story å˜æ›´ | â€” |
| `/rpiv` | rpiv.md | ä¸»æµç¨‹è°ƒåº¦ï¼ˆWS ç‹¬æœ‰ï¼‰ | â€” |
| `/cc-review` | cc-review.md | CC äº¤å‰å®¡æ ¸ï¼ˆWS ç‹¬æœ‰ï¼‰ | â€” |

---

## 5. å®Œæ•´ RPIV é“¾è·¯

### é˜¶æ®µ R â€” éœ€æ±‚åˆ†æï¼ˆRequirementï¼‰

```
ç”¨æˆ·: /brainstorm admin-permission
  â”‚
  â–¼ Cascade è‡ªåŠ¨è°ƒç”¨ brainstorming skill
  â”‚
  â”œâ”€â”€ è¯»å– PRD æ–‡æ¡£ï¼ˆcurrent_requirement_pathï¼‰
  â”œâ”€â”€ å¤šè½®æ­£å‘/åå‘æ ¡éªŒï¼ˆè‡ªåŠ¨è¿­ä»£ï¼‰
  â”œâ”€â”€ è¾“å‡º brainstorm-{æ¨¡å—å}.md
  â””â”€â”€ æ›´æ–° STATE.yaml â†’ current_step: brainstorm_done
  â”‚
  â–¼
ç”¨æˆ·å®¡é˜…éœ€æ±‚æ–‡æ¡£ â† ã€å®¡æ‰¹é—¨æ§ã€‘
```

### é˜¶æ®µ P â€” æ‹†åˆ†è®¡åˆ’ï¼ˆPlanï¼‰

```
ç”¨æˆ·: /split-story
  â”‚
  â–¼ Cascade è‡ªåŠ¨è°ƒç”¨ story-splitter skill
  â”‚
  â”œâ”€â”€ æŒ‰ INVEST åŸåˆ™æ‹†åˆ† Stories
  â”œâ”€â”€ åˆ›å»º S-xxx.yaml æ–‡ä»¶
  â””â”€â”€ æ›´æ–° STATE.yaml â†’ stories åˆ—è¡¨
  â”‚
  â–¼
ç”¨æˆ·: /approve â† ã€å®¡æ‰¹é—¨æ§ã€‘
  â”‚
  â–¼
ç”¨æˆ·: /split-ticket S-006
  â”‚
  â–¼ Cascade è‡ªåŠ¨è°ƒç”¨ ticket-splitter skill
  â”‚
  â”œâ”€â”€ æ‹†åˆ†ä¸º 2-5 åˆ†é’Ÿç²’åº¦çš„ Tickets
  â”œâ”€â”€ åˆ›å»º T-xxx.yaml æ–‡ä»¶
  â””â”€â”€ æ›´æ–° STATE.yaml â†’ tickets åˆ—è¡¨
  â”‚
  â–¼
ç”¨æˆ·: /approve â† ã€å®¡æ‰¹é—¨æ§ã€‘
```

### é˜¶æ®µ I â€” å®ç°ï¼ˆImplementï¼‰

```
ç”¨æˆ·: /next
  â”‚
  â–¼ Cascade è‡ªåŠ¨è°ƒç”¨ deliver-ticket skill
  â”‚
  â”œâ”€â”€ è¯»å– T-xxx.yamlï¼ˆtype, allowed_paths, acceptance_criteriaï¼‰
  â”œâ”€â”€ æ ¹æ® type é€‰æ‹©æµç¨‹ï¼š
  â”‚   â”œâ”€â”€ backend/database/test â†’ TDDï¼ˆå…ˆå†™æµ‹è¯•å†å†™ä»£ç ï¼‰
  â”‚   â”œâ”€â”€ frontend-ui â†’ UI è¿˜åŸ
  â”‚   â”œâ”€â”€ frontend â†’ å‰ç«¯åŠŸèƒ½
  â”‚   â””â”€â”€ config â†’ é…ç½®å˜æ›´
  â”œâ”€â”€ è‡ªåŠ¨è°ƒç”¨ test-design + test-execution skills
  â”œâ”€â”€ è‡ªå®¡æ¸…å• + verification_evidence
  â””â”€â”€ æ›´æ–° STATE.yaml â†’ completed_tickets
  â”‚
  â–¼
è¿˜æœ‰æœªå®Œæˆ Ticketsï¼Ÿ
  â”œâ”€â”€ æ˜¯ â†’ ç”¨æˆ·: /nextï¼ˆç»§ç»­ï¼‰
  â””â”€â”€ å¦ â†’ è¿›å…¥é˜¶æ®µ V
```

### é˜¶æ®µ V â€” éªŒæ”¶ï¼ˆVerifyï¼‰

```
ç”¨æˆ·: /verify
  â”‚
  â–¼ Cascade è‡ªåŠ¨è°ƒç”¨ verification skill
  â”‚
  â”œâ”€â”€ æ£€æŸ¥æ‰€æœ‰ acceptance_criteria
  â”œâ”€â”€ æ£€æŸ¥ Tickets é›†æˆè´¨é‡
  â”œâ”€â”€ è¾“å‡ºéªŒæ”¶æŠ¥å‘Š
  â””â”€â”€ æ›´æ–° STATE.yaml â†’ completed_stories
  â”‚
  â–¼
ç”¨æˆ·: /cc-reviewï¼ˆå¯é€‰ï¼Œå»ºè®® P0 Storyï¼‰
  â”‚
  â–¼ æ‰§è¡Œ claude -p äº¤å‰å®¡æ ¸
  â”‚
  â–¼
è¿˜æœ‰ä¸‹ä¸€ä¸ª Storyï¼Ÿ
  â”œâ”€â”€ æ˜¯ â†’ å›åˆ°é˜¶æ®µ Pï¼ˆ/split-ticketï¼‰
  â””â”€â”€ å¦ â†’ /cc-review finalï¼ˆæœ€ç»ˆäº¤ä»˜å®¡æ ¸ï¼‰
```

### å¿«æ·æ–¹å¼ï¼š/rpiv

```
ç”¨æˆ·: /rpiv
  â”‚
  â–¼ è¯»å– STATE.yaml
  â”‚
  â”œâ”€â”€ idle / requirement_analysis â†’ æç¤º /brainstorm
  â”œâ”€â”€ brainstorm_done / planning â†’ æç¤º /split-story
  â”œâ”€â”€ stories_approved / implementing â†’ æç¤º /next
  â”œâ”€â”€ story_tickets_done â†’ æç¤º /verify
  â””â”€â”€ all_stories_done â†’ è¾“å‡ºå®Œæˆæ‘˜è¦
```

---

## 6. CC è°ƒç”¨æ—¶æœº

| æ—¶æœº | Slash Command | è¯´æ˜ |
|------|--------------|------|
| **Story å®Œæˆ** | `/cc-review` | éªŒæ”¶é€šè¿‡åäº¤å‰éªŒè¯ï¼ˆå»ºè®® P0ï¼‰ |
| **è®¾è®¡å†³ç­–** | `/cc-review decision` | å¤šæ–¹æ¡ˆæ‹¿ä¸å®šæ—¶è®© CC åˆ†æ |
| **å¼‚å¸¸é—®é¢˜** | `/cc-review issue` | æµ‹è¯•åå¤å¤±è´¥ã€ä¾èµ–å†²çª |
| **æœ€ç»ˆäº¤ä»˜** | `/cc-review final` | æ‰€æœ‰ Stories å®Œæˆåæ•´ä½“å®¡æ ¸ |

### CC å®¡æ ¸ Prompt æ¨¡æ¿

#### Story å®Œæˆå®¡æ ¸

```bash
claude -p "å®¡æ ¸ Story S-xxxï¼š
$(cat osg-spec-docs/tasks/stories/S-xxx.yaml)

æ£€æŸ¥é¡¹ï¼š
1. æ‰€æœ‰ acceptance_criteria æ˜¯å¦æ»¡è¶³
2. Tickets ä¹‹é—´çš„é›†æˆæ˜¯å¦æ­£ç¡®
3. æ˜¯å¦æœ‰å®‰å…¨é—®é¢˜æˆ–æ˜æ˜¾ bug

è¾“å‡ºï¼šé€šè¿‡/ä¸é€šè¿‡ + é—®é¢˜åˆ—è¡¨"
```

#### è®¾è®¡å†³ç­–ä»²è£

```bash
claude -p "è®¾è®¡å†³ç­–ï¼š
èƒŒæ™¯ï¼š{é—®é¢˜æè¿°}
æ–¹æ¡ˆ Aï¼š{æè¿°}
æ–¹æ¡ˆ Bï¼š{æè¿°}
è¯·åˆ†æå„æ–¹æ¡ˆä¼˜åŠ£ï¼Œç»™å‡ºæ¨è"
```

#### æœ€ç»ˆäº¤ä»˜å®¡æ ¸

```bash
claude -p "æ•´ä½“å®¡æ ¸ï¼š
$(cat osg-spec-docs/tasks/STATE.yaml)
$(ls osg-spec-docs/tasks/stories/*.yaml | xargs cat)

æ£€æŸ¥é¡¹ï¼š
1. æ‰€æœ‰ Stories æ˜¯å¦éƒ½å·²å®Œæˆ
2. Stories ä¹‹é—´çš„é›†æˆæ˜¯å¦æ­£ç¡®
3. æ˜¯å¦æœ‰é—æ¼çš„åŠŸèƒ½ç‚¹

è¾“å‡ºï¼šé€šè¿‡/ä¸é€šè¿‡ + é—®é¢˜åˆ—è¡¨"
```

---

## 7. Token æ¶ˆè€—ä¼°ç®—

ä»¥æƒé™æ¨¡å—ï¼ˆ5 Stories, 31 Ticketsï¼‰ä¸ºä¾‹ï¼š

| ç¯èŠ‚ | CC è°ƒç”¨æ¬¡æ•° | Token/æ¬¡ | æ€» Token |
|------|------------|----------|----------|
| Story å®Œæˆå®¡æ ¸ | 5 | ~3K | 15K |
| è®¾è®¡å†³ç­–ï¼ˆä¼°ï¼‰ | 2 | ~2K | 4K |
| å¼‚å¸¸åˆ†æï¼ˆä¼°ï¼‰ | 3 | ~2K | 6K |
| æœ€ç»ˆäº¤ä»˜å®¡æ ¸ | 1 | ~3K | 3K |
| **æ€»è®¡** | | | **~28K** |

å¯¹æ¯”çº¯ CC æ‰§è¡Œ ~150Kï¼Œ**èŠ‚çœçº¦ 80%**ã€‚

---

## 8. æ–‡ä»¶ç»“æ„

```
OSGPrj/
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ skills/                  â† Skills æ‰§è¡Œå¼•æ“ï¼ˆWS + CC å…±äº«ï¼‰
â”‚   â”‚   â”œâ”€â”€ brainstorming/SKILL.md
â”‚   â”‚   â”œâ”€â”€ story-splitter/SKILL.md
â”‚   â”‚   â”œâ”€â”€ ticket-splitter/SKILL.md
â”‚   â”‚   â”œâ”€â”€ deliver-ticket/SKILL.md
â”‚   â”‚   â”œâ”€â”€ verification/SKILL.md
â”‚   â”‚   â”œâ”€â”€ test-design/SKILL.md
â”‚   â”‚   â”œâ”€â”€ test-execution/SKILL.md
â”‚   â”‚   â”œâ”€â”€ tdd/SKILL.md
â”‚   â”‚   â”œâ”€â”€ code-review/SKILL.md
â”‚   â”‚   â”œâ”€â”€ debugging/SKILL.md
â”‚   â”‚   â””â”€â”€ ... (20 ä¸ª Skills)
â”‚   â”œâ”€â”€ project/config.yaml
â”‚   â””â”€â”€ CLAUDE.md
â”œâ”€â”€ .windsurf/
â”‚   â””â”€â”€ workflows/               â† Workflow è°ƒåº¦å±‚ï¼ˆä»… WSï¼‰
â”‚       â”œâ”€â”€ brainstorm.md        â†’ /brainstorm
â”‚       â”œâ”€â”€ split-story.md       â†’ /split-story
â”‚       â”œâ”€â”€ split-ticket.md      â†’ /split-ticket
â”‚       â”œâ”€â”€ approve.md           â†’ /approve
â”‚       â”œâ”€â”€ next.md              â†’ /next
â”‚       â”œâ”€â”€ verify.md            â†’ /verify
â”‚       â”œâ”€â”€ status.md            â†’ /status
â”‚       â”œâ”€â”€ checkpoint.md        â†’ /checkpoint
â”‚       â”œâ”€â”€ save.md              â†’ /save
â”‚       â”œâ”€â”€ restore.md           â†’ /restore
â”‚       â”œâ”€â”€ rollback.md          â†’ /rollback
â”‚       â”œâ”€â”€ rpiv.md              â†’ /rpiv (WS ç‹¬æœ‰)
â”‚       â””â”€â”€ cc-review.md         â†’ /cc-review (WS ç‹¬æœ‰)
â”œâ”€â”€ .windsurfrules               â† WS å…¨å±€è§„åˆ™
â””â”€â”€ osg-spec-docs/tasks/
    â”œâ”€â”€ STATE.yaml               â† çŠ¶æ€æŒä¹…åŒ–
    â”œâ”€â”€ stories/S-xxx.yaml       â† Story å®šä¹‰
    â”œâ”€â”€ tickets/T-xxx.yaml       â† Ticket å®šä¹‰
    â””â”€â”€ brainstorm-*.md          â† éœ€æ±‚åˆ†æäº§ç‰©
```

---

## 9. å…³é”®å‘ç°ï¼ˆ2026-02-13 éªŒè¯ï¼‰

1. **Windsurf æ”¯æŒ Agent Skills å¼€æ”¾æ ‡å‡†** â€” è‡ªåŠ¨æ‰«æ `.claude/skills/` ç›®å½•ï¼Œä¸éœ€è¦åœ¨ `.windsurf/skills/` åˆ›å»ºç¬¦å·é“¾æ¥
2. **Workflows åªä» `.windsurf/workflows/` åŠ è½½** â€” æ²¡æœ‰å…¶ä»–å‘ç°è·¯å¾„
3. **Skills è‡ªåŠ¨åŒ¹é…** â€” Cascade æ ¹æ® SKILL.md çš„ `description` å­—æ®µè‡ªåŠ¨å†³å®šä½•æ—¶è°ƒç”¨ï¼Œä¸éœ€è¦æ‰‹åŠ¨è¯´"è¯·è¯»å– SKILL.md"
4. **Workflows å¯äº’ç›¸è°ƒç”¨** â€” `/rpiv` å†…éƒ¨å¯ä»¥å¼•å¯¼æ‰§è¡Œ `/brainstorm`ã€`/next` ç­‰

---

## 10. ç»Ÿä¸€é—¨æ§æ¨¡å¼ v2ï¼ˆæ”¹è¿›æ–¹å‘ï¼‰

> çŠ¶æ€ï¼šå¾…å®æ–½ã€‚ä»¥ä¸‹ä¸ºåˆ†æç»“è®ºå’Œæ”¹è¿›è®¾è®¡ï¼Œéœ€æˆæƒåä¿®æ”¹ `.claude/skills/` ä¸­çš„ Skill æ–‡ä»¶ã€‚

### 10.1 å½“å‰é—¨æ§ç°çŠ¶

æ¯ä¸ªç¯èŠ‚çš„ Skill å†…ç½®æ ¡éªŒï¼š

| ç¯èŠ‚ | è´¨é‡æ ¡éªŒ | è¦†ç›–ç‡æ ¡éªŒ | å¤šè½®è¿­ä»£ | å¤±è´¥é€€å‡º | å…¨å±€ç»ˆå®¡ | å®¡æ‰¹é—¨æ§ |
|------|---------|-----------|---------|---------|---------|---------|
| /brainstorm | âœ… 5æ­£+6å | âŒ ç¼ºå¤± | âœ… 10è½® | âœ… | âŒ ç¼ºå¤± | auto |
| /split story | âœ… INVEST 6é¡¹ | âœ… FRâ†”Story 100% | âœ… 5è½® | âœ… | âŒ ç¼ºå¤± | **required** |
| /split ticket | âœ… 6é¡¹è´¨é‡ | âœ… ACâ†”Ticket 100% | âœ… 5è½® | âœ… | âŒ ç¼ºå¤± | auto |
| /next (deliver) | âœ… 4å±‚é—¨æ§ | âœ… è¦†ç›–ç‡é—¨æ§› | âœ… 3æ¬¡é‡è¯• | âœ… | âŒ ç¼ºå¤± | auto |
| /verify | âœ… 3é¡¹æ£€æŸ¥ | âŒ ç¼ºå¤± | âš ï¸ ä¸æ˜ç¡® | âš ï¸ ä¸æ˜ç¡® | âŒ ç¼ºå¤± | auto |

å®¡æ‰¹é…ç½®ï¼ˆ`config.yaml`ï¼‰ï¼š
- `story_split: required` â€” å”¯ä¸€å¼ºåˆ¶ç”¨æˆ·å®¡æ‰¹ç‚¹
- `ticket_split: auto`
- `ticket_done: auto`
- `story_done: auto`

### 10.2 å‘ç°çš„é—®é¢˜

1. **`/brainstorm` ç¼ºè¦†ç›–ç‡æ ¡éªŒ** â€” æ²¡æœ‰æ£€æŸ¥éœ€æ±‚æ˜¯å¦è¦†ç›– PRD æ‰€æœ‰åŠŸèƒ½ç‚¹
2. **`/verify` ç¼ºå¤šè½®è¿­ä»£å’Œå¤±è´¥é€€å‡º** â€” éªŒæ”¶ä¸é€šè¿‡æ—¶å¤„ç†é€»è¾‘ä¸å¤Ÿæ˜ç¡®
3. **æ‰€æœ‰ç¯èŠ‚ç¼ºå°‘ Phase 3ï¼ˆå…¨å±€ç»ˆå®¡ï¼‰** â€” ä¿®å¤ååªé‡è·‘æ£€æŸ¥é¡¹ï¼Œæ²¡æœ‰ä»å…¨å±€è§’åº¦é‡æ–°å®¡è§†

### 10.3 ç»Ÿä¸€é—¨æ§æ¨¡å¼ v2 è®¾è®¡

æ¯ä¸ªç¯èŠ‚å¿…é¡»ç»è¿‡ 5 ä¸ª Phaseï¼š

```
Phase 1: ç”Ÿæˆäº§ç‰©
    â”‚
    â–¼
Phase 2: é€é¡¹æ ¡éªŒ + ä¿®å¤å¾ªç¯
    â”‚  while (iteration < max_iterations):
    â”‚    â”œâ”€â”€ è·‘æ‰€æœ‰æ£€æŸ¥é¡¹ï¼ˆç¯èŠ‚ä¸“å±ï¼‰
    â”‚    â”œâ”€â”€ æœ‰é—®é¢˜ â†’ ä¿®å¤ â†’ continueï¼ˆå›åˆ°å¾ªç¯å¼€å¤´å…¨éƒ¨é‡è·‘ï¼‰
    â”‚    â””â”€â”€ å…¨ âœ… â†’ è¿›å…¥ Phase 3
    â”‚
    â–¼
Phase 3: å…¨å±€ç»ˆå®¡ï¼ˆFinal Reviewï¼‰  â† æ–°å¢
    â”‚  ä¿®å¤å®Œæ‰€æœ‰é—®é¢˜åï¼Œä»ä¸åŒè§’åº¦é‡æ–°å®¡è§†æ•´ä¸ªäº§ç‰©ï¼š
    â”‚    â”œâ”€â”€ ä¸Šæ¸¸ä¸€è‡´æ€§ï¼šå’Œä¸Šä¸€ç¯èŠ‚çš„äº§ç‰©å¯¹é½å—ï¼Ÿ
    â”‚    â”œâ”€â”€ ä¸‹æ¸¸å¯è¡Œæ€§ï¼šä¸‹ä¸€ç¯èŠ‚èƒ½é¡ºåˆ©æ‰§è¡Œå—ï¼Ÿ
    â”‚    â””â”€â”€ å…¨å±€å®Œæ•´æ€§ï¼šæœ‰æ²¡æœ‰é—æ¼æˆ–å†²çªï¼Ÿ
    â”‚  â”œâ”€â”€ å…¨ âœ… â†’ Phase 4
    â”‚  â””â”€â”€ æœ‰ âŒ â†’ å›åˆ° Phase 2
    â”‚
    â–¼
Phase 4: è¾“å‡ºäº§ç‰© + æ›´æ–° STATE.yamlï¼ˆä»… Phase 3 é€šè¿‡åï¼‰
    â”‚
    â–¼
Phase 5: å®¡æ‰¹é—¨æ§ï¼ˆæ ¹æ® config.approval å†³å®š auto æˆ– requiredï¼‰
```

### 10.4 æ¯ä¸ªç¯èŠ‚çš„å…¨å±€ç»ˆå®¡ï¼ˆPhase 3ï¼‰æ£€æŸ¥é¡¹

| ç¯èŠ‚ | ä¸Šæ¸¸ä¸€è‡´æ€§ | ä¸‹æ¸¸å¯è¡Œæ€§ | å…¨å±€å®Œæ•´æ€§ |
|------|-----------|-----------|-----------|
| /brainstorm | PRD åŠŸèƒ½ç‚¹ 100% è¦†ç›–ï¼Ÿ | å¯æ‹†åˆ†ä¸º Storiesï¼Ÿ | éœ€æ±‚ä¹‹é—´æ— çŸ›ç›¾ï¼Ÿ |
| /split story | éœ€æ±‚æ–‡æ¡£ FR 100% è¦†ç›–ï¼Ÿ | æ¯ä¸ª Story å¯æ‹†ä¸º Ticketsï¼Ÿ | Stories ä¹‹é—´æ— é‡å ï¼Ÿ |
| /split ticket | Story AC 100% è¦†ç›–ï¼Ÿ | æ¯ä¸ª Ticket å¯ç‹¬ç«‹æ‰§è¡Œï¼Ÿ | Tickets ä¾èµ–é“¾å®Œæ•´æ— ç¯ï¼Ÿ |
| /next | Ticket AC å…¨æ»¡è¶³ï¼Ÿ | ä¸ç ´åå…¶ä»– Ticket ä»£ç ï¼Ÿ | æµ‹è¯•å…¨é€šè¿‡ + è¦†ç›–ç‡è¾¾æ ‡ï¼Ÿ |
| /verify | æ‰€æœ‰ Tickets æœ‰è¯æ®ï¼Ÿ | å’Œå…¶ä»– Stories é›†æˆæ— å†²çªï¼Ÿ | æ‰€æœ‰ AC æ»¡è¶³ï¼Ÿ |

### 10.5 å¾…å®æ–½æ¸…å•

> è¯¦ç»†ä¿®æ”¹æ–¹æ¡ˆï¼ˆç»†åŒ–åˆ°æ¯ä¸€è¡Œä»£ç ï¼‰è§ [`docs/gate-control-fix-plan.md`](gate-control-fix-plan.md)

| # | å¾…å®æ–½é¡¹ | å¯¹åº”ä¿®å¤ | ä¼˜å…ˆçº§ |
|---|---------|---------|--------|
| 1 | è¡¥å…… `/brainstorm` çš„ PRD è¦†ç›–ç‡æ ¡éªŒ | fix-plan #1 | ğŸ”´ é«˜ |
| 2 | è¡¥å…… `/verify` çš„å¤šè½®è¿­ä»£ + è‡ªåŠ¨ä¿®å¤å¾ªç¯ | fix-plan #7 | ğŸ”´ é«˜ |
| 3 | è¡¥å…… `/verify` çš„ Story AC è¦†ç›–ç‡æ ¡éªŒ | fix-plan #6 | ğŸ”´ é«˜ |
| 4 | è¡¥å…… `/verify` çš„æ˜ç¡®å¤±è´¥é€€å‡ºé€»è¾‘ | fix-plan #8 | ğŸŸ¡ ä¸­ |
| 5 | ä¸º `/brainstorm` æ·»åŠ  Phase 3 å…¨å±€ç»ˆå®¡ | fix-plan #2 | ğŸŸ¡ ä¸­ |
| 6 | ä¸º `/split story` æ·»åŠ  Phase 3 å…¨å±€ç»ˆå®¡ | fix-plan #3 | ğŸŸ¡ ä¸­ |
| 7 | ä¸º `/split ticket` æ·»åŠ  Phase 3 å…¨å±€ç»ˆå®¡ | fix-plan #4 | ğŸŸ¡ ä¸­ |
| 8 | ä¸º `/next` æ·»åŠ  Phase 3 å…¨å±€ç»ˆå®¡ | fix-plan #5 | ğŸŸ¡ ä¸­ |
| 9 | ä¸º `/verify` æ·»åŠ  Phase 3 å…¨å±€ç»ˆå®¡ | fix-plan #9 | ğŸŸ¡ ä¸­ |
| 10 | `/brainstorm` Workflow ä¸‹ä¸€æ­¥æç¤ºé”™è¯¯ï¼ˆ`/split-stories` â†’ `/split-story`ï¼‰ | fix-plan #10 | ğŸŸ¡ ä½ |
| 11 | `/brainstorm` Workflow ç¼ºå°‘ UI åŸå‹è¾“å…¥è¯´æ˜ | fix-plan #11 | ğŸŸ¡ ä½ |
| 12 | `/approve` Workflow ä¸ config.yaml å®¡æ‰¹é…ç½®ä¸ä¸€è‡´ | fix-plan #12 | ğŸŸ¡ ä¸­ |
| 13 | `/verify` Skill æ ¡éªŒå†…å®¹ä¸ Workflow æ‰¿è¯ºä¸ä¸€è‡´ï¼ˆé‡å†™ï¼Œä¸ #7 åˆå¹¶ï¼‰ | fix-plan #13 | ğŸ”´ é«˜ |
| 14 | `/next` â†’ `/verify` çŠ¶æ€æµè½¬æ–­è£‚ï¼ˆç¼º `all_tickets_done` çŠ¶æ€ï¼‰ | fix-plan #14 | ğŸ”´ é«˜ |
